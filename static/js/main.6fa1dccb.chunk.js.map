{"version":3,"sources":["WithTracker.js","App.js","index.js","i18n.js","ui/theme.js","utils/ga_fireevent.js","ContextStore.js","reducers/drawer.js"],"names":["GoogleAnalytics","initialize","process","ReactPixel","init","autoConfig","debug","withTracker","WrappedComponent","options","arguments","length","undefined","trackPage","page","set","Object","objectSpread","pageview","pageView","_React$Component","HOC","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","inherits","createClass","key","value","props","location","pathname","nextProps","currentPage","nextPage","react_default","a","createElement","React","Component","IndexPage","loadable","Promise","all","__webpack_require__","e","then","bind","ProfilePage","DistrictPage","DistrictListPage","BattleGroundPage","DisclaimerPage","AboutDCPage","FavDistrictListPage","FavCandidateListPage","NotfoundPage","SupportUsPage","DistrictOverviewPage","DistrictAllPage","MobileAppBar","Footer","SearchDrawer","GlobalDisclaimer","ShareButton","client","ApolloClient","uri","Root","styled","Box","_templateObject","ContentContainer","_templateObject2","Wrapper","_templateObject3","LangSwitch","_useRouteMatch","useRouteMatch","path","url","i18n","changeLanguage","replace","react_router","exact","component","concat","App","react_common_esm","react_apollo_esm","ThemeProvider","theme","ContextStore","id","CssBaseline","App_LangSwitch","onClick","fireEvent","ca","ac","lb","ReactDOM","render","react_router_dom","src_App_0","document","getElementById","i18next__WEBPACK_IMPORTED_MODULE_0__","react_i18next__WEBPACK_IMPORTED_MODULE_1__","locales_en_translation_json__WEBPACK_IMPORTED_MODULE_2__","locales_zh_translation_json__WEBPACK_IMPORTED_MODULE_3__","use","initReactI18next","fallbackLng","interpolation","escapeValue","resources","en","translation","translationEN","zh","translationZH","react","wait","keySeparator","d","__webpack_exports__","FONT_FAMILY","COLORS","_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_0__","_material_ui_core_colors__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core_colors__WEBPACK_IMPORTED_MODULE_2__","headingFontFamily","typography","useNextVariants","fontSize","fontFamily","join","h1","fontWeight","h2","h3","h4","h5","h6","body1","lineHeight","body2","main","text","primary","secondary","background","mainText","dark","backgroundColor","color","camp","democracy","establishment","localist","other","uncertain","common","success","green","failure","red","secondaryBackgroundColor","createMuiTheme","palette","contrastText","react_ga__WEBPACK_IMPORTED_MODULE_0__","_ref","_ref$val","val","_ref$nonInteraction","nonInteraction","event","category","action","label","console","log","drawerInitialState","open","createContext","drawer","ContextStoreProvider","_React$useReducer","useReducer","drawerReducer","_React$useReducer2","_home_travis_build_cswbrian_district_councils_dashboard_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","drawerState","drawerDispatch","react__WEBPACK_IMPORTED_MODULE_1___default","Provider","assign","state","dispatch","DRAWER_OPEN","DRAWER_CLOSE","type"],"mappings":"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","file":"static/js/main.6fa1dccb.chunk.js","sourcesContent":["import React from 'react'\nimport GoogleAnalytics from 'react-ga'\nimport ReactPixel from 'react-facebook-pixel'\n\nconst trackingId = process.env.REACT_APP_GA_TRACKING_ID\nif (!trackingId) {\n  throw new Error(\n    'Invalid google tracking ID. or set to UA-000000-01 if you dont have any'\n  )\n}\nconst fbPixelTrackingID = process.env.REACT_APP_FACEBOOK_TRACKING_ID\nif (!fbPixelTrackingID) {\n  throw new Error('Invalid facebook pixel tracking ID.')\n}\nGoogleAnalytics.initialize(trackingId)\n\nconst fbPixelAdvancedMatching = {}\nconst fbPixelOptions = {\n  autoConfig: true,\n  debug: false,\n}\nReactPixel.init(fbPixelTrackingID, fbPixelAdvancedMatching, fbPixelOptions)\n\nconst withTracker = (WrappedComponent, options = {}) => {\n  const trackPage = page => {\n    GoogleAnalytics.set({\n      page,\n      ...options,\n    })\n    GoogleAnalytics.pageview(page)\n\n    ReactPixel.pageView()\n  }\n\n  const HOC = class extends React.Component {\n    componentDidMount() {\n      const page = this.props.location.pathname\n      trackPage(page)\n    }\n\n    componentWillReceiveProps(nextProps) {\n      const currentPage = this.props.location.pathname\n      const nextPage = nextProps.location.pathname\n\n      if (currentPage !== nextPage) {\n        trackPage(nextPage)\n      }\n    }\n\n    render() {\n      return <WrappedComponent {...this.props} />\n    }\n  }\n\n  return HOC\n}\n\nexport default withTracker\n","import React from 'react'\nimport { Route, Switch, useRouteMatch } from 'react-router-dom'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport { ThemeProvider } from '@material-ui/core/styles/'\nimport loadable from '@loadable/component'\nimport ApolloClient from 'apollo-boost'\nimport { ApolloProvider } from 'react-apollo'\nimport * as ReactHook from '@apollo/react-hooks'\nimport theme from 'ui/theme'\nimport './App.css'\nimport Box from '@material-ui/core/Box'\nimport styled from 'styled-components'\nimport { ContextStoreProvider } from 'ContextStore'\nimport withTracker from './WithTracker'\nimport i18n from 'i18n'\nimport { fireEvent } from 'utils/ga_fireevent'\n\nconst IndexPage = loadable(() =>\n  import(/* webpackPrefetch: true */ 'components/pages/landing')\n)\nconst ProfilePage = loadable(() =>\n  import(/* webpackPrefetch: true */ 'components/pages/profile')\n)\nconst DistrictPage = loadable(() =>\n  import(/* webpackPrefetch: true */ 'components/pages/district')\n)\nconst DistrictListPage = loadable(() =>\n  import(/* webpackPrefetch: true */ 'components/pages/district/list')\n)\nconst BattleGroundPage = loadable(() =>\n  import(/* webpackPrefetch: true */ 'components/pages/battleground')\n)\nconst DisclaimerPage = loadable(() =>\n  import(/* webpackPrefetch: true */ 'components/pages/disclaimer')\n)\nconst AboutDCPage = loadable(() =>\n  import(/* webpackPrefetch: true */ 'components/pages/about/dc')\n)\n\nconst FavDistrictListPage = loadable(() =>\n  import(/* webpackPrefetch: true */ 'components/pages/fav-district')\n)\n\nconst FavCandidateListPage = loadable(() =>\n  import(/* webpackPrefetch: true */ 'components/pages/fav-candidate')\n)\n\nconst NotfoundPage = loadable(() =>\n  import(/* webpackPrefetch: true */ 'components/pages/notfound')\n)\nconst SupportUsPage = loadable(() =>\n  import(/* webpackPrefetch: true */ 'components/pages/support-us')\n)\nconst DistrictOverviewPage = loadable(() =>\n  import(/* webpackPrefetch: true */ 'components/pages/district/overview')\n)\nconst DistrictAllPage = loadable(() =>\n  import(/* webpackPrefetch: true */ 'components/pages/district/all')\n)\n\nconst MobileAppBar = loadable(() =>\n  import(/* webpackPrefetch: true */ 'components/organisms/MobileAppBar')\n)\nconst Footer = loadable(() =>\n  import(/* webpackPrefetch: true */ 'components/organisms/Footer')\n)\nconst SearchDrawer = loadable(() =>\n  import(/* webpackPrefetch: true */ 'components/pages/SearchDrawer')\n)\nconst GlobalDisclaimer = loadable(() =>\n  import(/* webpackPrefetch: true */ 'components/organisms/GlobalDisclaimer')\n)\n\nconst ShareButton = loadable(() =>\n  import(/* webpackPrefetch: true */ 'components/organisms/ShareButton')\n)\n\nconst client = new ApolloClient({\n  uri: process.env.REACT_APP_GRAPHQL_URI,\n})\n\nconst Root = styled(Box)`\n  && {\n    height: 100%;\n    display: flex;\n    margin: auto;\n    overflow: hidden;\n    background-color: white;\n  }\n`\n\nconst ContentContainer = styled(Box)`\n  && {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    overflow: auto;\n  }\n`\n\nconst Wrapper = styled(Box)`\n  && {\n    flex: 1;\n    width: 100%;\n    max-width: 1024px;\n    margin: auto;\n  }\n`\n\nconst LangSwitch = props => {\n  const { path, url } = useRouteMatch()\n  if (url !== '/') {\n    i18n.changeLanguage(url.replace(/\\//g, ''))\n  }\n\n  return (\n    <Switch>\n      <Route exact path={path} component={withTracker(IndexPage)} />\n      <Route\n        path={`${path}/profile/:name/:uuid`}\n        component={withTracker(ProfilePage)}\n      />\n      <Route\n        path={`${path}/district/:year/tags/:tag`}\n        component={withTracker(DistrictListPage)}\n      />\n      <Route\n        path={`${path}/district/:year/:code(\\\\w{1})`}\n        component={withTracker(DistrictOverviewPage)}\n      />\n      <Route\n        path={`${path}/district/2019/:code`}\n        component={withTracker(BattleGroundPage)}\n      />\n      <Route\n        path={`${path}/district/:year/:code`}\n        component={withTracker(DistrictPage)}\n      />\n      <Route\n        path={`${path}/district/:year`}\n        component={withTracker(DistrictAllPage)}\n      />\n      <Route\n        path={`${path}/disclaimer`}\n        component={withTracker(DisclaimerPage)}\n      />\n      <Route\n        path={`${path}/followed-districts`}\n        component={withTracker(FavDistrictListPage)}\n      />\n      <Route\n        path={`${path}/followed-candidates`}\n        component={withTracker(FavCandidateListPage)}\n      />\n      <Route path={`${path}/about-dc`} component={withTracker(AboutDCPage)} />\n      <Route path={`${path}/about-us`} component={withTracker(SupportUsPage)} />\n      <Route component={withTracker(NotfoundPage)} />\n    </Switch>\n  )\n}\n\nconst App = props => {\n  if (!process.env.REACT_APP_GRAPHQL_URI) {\n    throw new Error('Graphql host not yet set')\n  }\n\n  return (\n    // TODO: refactor all to use useQuery\n    <ReactHook.ApolloProvider client={client}>\n      <ApolloProvider client={client}>\n        <ThemeProvider theme={theme}>\n          <ContextStoreProvider>\n            <Root>\n              <ContentContainer id=\"contentContainer\">\n                <CssBaseline />\n                <Wrapper>\n                  <MobileAppBar />\n                  <GlobalDisclaimer />\n                  <main>\n                    <Switch>\n                      <Route path=\"/(en|zh)?\">\n                        <LangSwitch />\n                      </Route>\n                      <Route\n                        exact\n                        path=\"/\"\n                        component={withTracker(IndexPage)}\n                      />\n                      <Route\n                        path=\"/profile/:name/:uuid\"\n                        component={withTracker(ProfilePage)}\n                      />\n                      <Route\n                        path=\"/district/:year/tags/:tag\"\n                        component={withTracker(DistrictListPage)}\n                      />\n                      <Route\n                        path=\"/district/:year/:code(\\w{1})\"\n                        component={withTracker(DistrictOverviewPage)}\n                      />\n                      <Route\n                        path=\"/district/2019/:code\"\n                        component={withTracker(BattleGroundPage)}\n                      />\n                      <Route\n                        path=\"/district/:year/:code\"\n                        component={withTracker(DistrictPage)}\n                      />\n                      <Route\n                        path=\"/district/:year\"\n                        component={withTracker(DistrictAllPage)}\n                      />\n                      <Route\n                        path=\"/disclaimer\"\n                        component={withTracker(DisclaimerPage)}\n                      />\n                      <Route\n                        path=\"/about-dc\"\n                        component={withTracker(AboutDCPage)}\n                      />\n                      <Route\n                        path=\"/about-us\"\n                        component={withTracker(SupportUsPage)}\n                      />\n                      <Route\n                        path=\"/followed-districts\"\n                        component={withTracker(FavDistrictListPage)}\n                      />\n                      <Route\n                        path=\"/followed-candidates\"\n                        component={withTracker(FavCandidateListPage)}\n                      />\n                      <Route component={withTracker(NotfoundPage)} />\n                    </Switch>\n                  </main>\n                </Wrapper>\n                <ShareButton\n                  onClick={() =>\n                    fireEvent({\n                      ca: 'general',\n                      ac: 'click',\n                      lb: 'share_button',\n                    })\n                  }\n                />\n                <Footer />\n              </ContentContainer>\n              <SearchDrawer />\n            </Root>\n          </ContextStoreProvider>\n        </ThemeProvider>\n      </ApolloProvider>\n    </ReactHook.ApolloProvider>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport App from './App'\nimport './i18n'\nimport './index.css'\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root')\n)\n","import i18n from 'i18next'\nimport { initReactI18next } from 'react-i18next'\nimport translationEN from 'locales/en/translation.json'\nimport translationZH from 'locales/zh/translation.json'\n\ni18n.use(initReactI18next).init({\n  fallbackLng: 'zh',\n  debug: false,\n  interpolation: {\n    escapeValue: false,\n  },\n  resources: {\n    en: {\n      translation: translationEN,\n    },\n    zh: {\n      translation: translationZH,\n    },\n  },\n  react: {\n    wait: true,\n  },\n  keySeparator: '-',\n})\n\nexport default i18n\n","import { createMuiTheme } from '@material-ui/core/styles'\nimport { red, green } from '@material-ui/core/colors'\nexport const headingFontFamily =\n  'Noto Sans TC, 微軟正黑體, 新細明體, sans-serif'\nexport const bodyFontFamily = 'Noto Sans TC, 微軟正黑體, 新細明體, sans-serif'\n\nexport const FONT_FAMILY = [\n  'Noto Sans TC',\n  '微軟正黑體',\n  '新細明體',\n  'sans-serif',\n  '-apple-system',\n  '\"Helvetica Neue\"',\n  'Arial',\n]\n\nexport const typography = {\n  useNextVariants: true,\n  fontSize: 16,\n  fontFamily: FONT_FAMILY.join(','),\n  h1: {\n    fontFamily: headingFontFamily,\n    fontSize: 20,\n    fontWeight: 500,\n  },\n  h2: {\n    fontFamily: headingFontFamily,\n    fontSize: 24,\n    fontWeight: 500,\n  },\n  h3: {\n    fontFamily: headingFontFamily,\n    fontSize: 22,\n    fontWeight: 500,\n  },\n  h4: {\n    fontFamily: FONT_FAMILY,\n    fontSize: 18,\n    fontWeight: 500,\n  },\n  h5: {\n    fontFamily: headingFontFamily,\n    fontSize: 16,\n    fontWeight: 500,\n  },\n  h6: {\n    fontFamily: headingFontFamily,\n    fontSize: 14,\n    fontWeight: 500,\n  },\n  body1: {\n    fontFamily: bodyFontFamily,\n    fontSize: 14,\n    lineHeight: 1.4,\n  },\n  body2: {\n    fontFamily: bodyFontFamily,\n    fontSize: 12,\n  },\n}\n\nexport const COLORS = {\n  main: {\n    text: '#000',\n    primary: '#7B68EE', // mediumslateblue\n    secondary: '#CCC4F8', // 2019-10-19 Hackathon - secondary color to voter bar chart\n    background: '#fff',\n  },\n  mainText: 'black',\n  dark: {\n    backgroundColor: '#3e474f',\n    color: 'white',\n  },\n  camp: {\n    democracy: {\n      background: '#ffcd00',\n      text: 'black',\n    },\n    establishment: {\n      background: '#45b6ff',\n      text: 'black',\n    },\n    localist: {\n      background: '#ffcd00',\n      text: 'black',\n    },\n    other: {\n      background: '#a8a8ad',\n      text: 'black',\n    },\n    uncertain: {\n      background: '#a8a8ad',\n      text: 'black',\n    },\n  },\n  common: {\n    success: green[800],\n    failure: red[800],\n  },\n  secondaryBackgroundColor: '#f2f2f3', // grey\n}\n\nexport default createMuiTheme({\n  typography,\n  palette: {\n    primary: {\n      main: COLORS.main.primary,\n      contrastText: COLORS.main.text,\n    },\n    secondary: {\n      main: '#3e474f',\n      contrastText: '#fff',\n    },\n  },\n})\n","import GoogleAnalytics from 'react-ga'\n\nconst trackingId = process.env.REACT_APP_GA_TRACKING_ID\nif (!trackingId) {\n  throw new Error(\n    'Invalid google tracking ID. or set to UA-000000-01 if you dont have any'\n  )\n}\nGoogleAnalytics.initialize(trackingId)\n\nexport function fireEvent({ ca, ac, lb, val = 1, nonInteraction = true }) {\n  GoogleAnalytics.event({\n    category: `${ca}`,\n    action: `${ac}_${lb}`,\n    label: lb,\n    value: val,\n    nonInteraction: nonInteraction,\n  })\n  console.log(`fire Event!`)\n}\n","import React from 'react'\nimport drawerReducer from 'reducers/drawer'\n\nexport const drawerInitialState = {\n  open: false,\n}\n\nconst ContextStore = React.createContext({\n  drawer: drawerInitialState,\n})\n\nexport const ContextStoreProvider = props => {\n  const [drawerState, drawerDispatch] = React.useReducer(\n    drawerReducer,\n    drawerInitialState\n  )\n\n  return (\n    <ContextStore.Provider\n      value={{\n        drawer: {\n          state: drawerState,\n          dispatch: drawerDispatch,\n        },\n      }}\n      {...props}\n    />\n  )\n}\n\nexport default ContextStore\n","export const DRAWER_OPEN = 'drawer_open'\nexport const DRAWER_CLOSE = 'drawer_close'\n\nexport default (state, action) => {\n  switch (action.type) {\n    case DRAWER_OPEN:\n      return { open: true }\n    default:\n      return { open: false }\n  }\n}\n"],"sourceRoot":""}