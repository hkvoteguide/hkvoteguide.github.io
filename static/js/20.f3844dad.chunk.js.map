{"version":3,"sources":["utils/helper.js","queries/gql.js","../node_modules/@material-ui/core/esm/internal/svg-icons/createSvgIcon.js","components/atoms/Columns.js","constants/dcregion.js","components/atoms/Avatar.js","../node_modules/@material-ui/core/esm/Typography/Typography.js","utils/features.js","../node_modules/@material-ui/icons/Close.js","components/molecules/SearchBoxOption.js","components/organisms/SearchAllBox.js","components/organisms/AreaTabs.js","components/molecules/DistrictSelector.js","components/organisms/SearchTab.js","../node_modules/@material-ui/core/esm/Avatar/Avatar.js","../node_modules/@material-ui/core/esm/Backdrop/Backdrop.js","../node_modules/@material-ui/core/esm/Fade/Fade.js","../node_modules/@material-ui/core/esm/Slide/Slide.js","../node_modules/@material-ui/core/esm/Drawer/Drawer.js","components/organisms/SearchMenu.js","components/pages/SearchDrawer.js"],"names":["__webpack_require__","d","__webpack_exports__","getDistrictListUriFromTag","getDistrictOverviewUriFromTag","getConstituencyUriFromTag","getCodeFromDistrictName","getCouncillorMeta","getColorFromCamp","getColorFromPoliticalAffiliation","getProfilePath","formatNumber","getParameterByName","getCurrentUrl","getConstituencyTagsByCandidateCamps","withLanguage","getCurrentLanguage","geti18nFromCamp","customVoteStationMapping","constants_dcregion__WEBPACK_IMPORTED_MODULE_0__","lodash__WEBPACK_IMPORTED_MODULE_1__","lodash__WEBPACK_IMPORTED_MODULE_1___default","n","i18n__WEBPACK_IMPORTED_MODULE_2__","tag","currentLanguage","concat","code","name","Object","keys","DCREGION","forEach","k","zh_hk","councillor","result","participatedOrdinary","participatedByElection","lastParticipated","year","type","votesDiff","votes","isWon","participatedElections","person","candidates","filter","c","election_type","length","e","electionYear","myVotes","constituency","find","id","highestVotes","map","reduce","v","Math","max","is_won","camp","泛民","民主","建制","本土","傘兵","自決","其他","不明","pa","mapping","democracy","establishment","localist","other","_arr","_i","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","party","value","includes","err","return","name_en","name_zh","uuid","num","toString","replace","url","window","location","href","results","RegExp","exec","decodeURIComponent","tags","filteredCandidates","nominate_status","findIndex","push","groupedCamps","_","groupBy","lang","pathname","match","i18n","language","localStorage","i18nextLng","isShortForm","arguments","suffix","station_code","M3901","CONSTITUENCIES_DATA","DISTRICT_DATA","QUERY_CONSTITUENCIES","gql","_templateObject","QUERY_GET_CANDIDATES_BY_IDS","_templateObject2","QUERY_GET_CONSTITUENCIES_BY_DISTRICT_CODES","_templateObject3","QUERY_GET_CONSTITUENCIES_BY_TAG","_templateObject4","QUERY_CONSTITUENCY_STATS","_templateObject5","QUERY_GET_DISTRICT","_templateObject6","QUERY_GET_ALL_DISTRICTS","_templateObject7","QUERY_GET_AREA","_templateObject8","QUERY_GET_PERSON_ELECTIONS","_templateObject9","QUERY_GET_PERSON_MEETING_ATTENDANCES","_templateObject10","QUERY_GET_COUNCILLOR","_templateObject11","QUERY_GET_CANDIDATES","_templateObject12","QUERY_GET_NOMINATION_SUMMARY","_templateObject13","_templateObject14","_templateObject15","createSvgIcon","_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_1___default","_SvgIcon__WEBPACK_IMPORTED_MODULE_2__","path","displayName","Component","a","memo","forwardRef","props","ref","createElement","muiName","styled","Box","SeperatedColumns","A","en_us","unelected_dc_seat","B","C","D","E","F","G","H","J","K","L","M","N","P","Q","R","S","T","PeopleAvatar","Avatar","opacity","dimension","borderwidth","COLORS","background","_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_2___default","clsx__WEBPACK_IMPORTED_MODULE_4__","_styles_withStyles__WEBPACK_IMPORTED_MODULE_5__","_utils_capitalize__WEBPACK_IMPORTED_MODULE_6__","defaultVariantMapping","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","Typography","_props$align","align","classes","className","_props$color","color","component","_props$display","display","_props$gutterBottom","gutterBottom","_props$noWrap","noWrap","_props$paragraph","paragraph","_props$variant","variant","_props$variantMapping","variantMapping","root","theme","margin","typography","caption","button","overline","srOnly","position","height","width","overflow","alignLeft","textAlign","alignCenter","alignRight","alignJustify","textOverflow","whiteSpace","marginBottom","colorInherit","colorPrimary","palette","primary","main","colorSecondary","secondary","colorTextPrimary","text","colorTextSecondary","colorError","error","displayInline","displayBlock","getSingleFeatureFromPoint","_ref","lng","lat","pt","turf","i","dc2019","features","feature","poly","geometry","coordinates","properties","CACODE","CNAME","ENAME","getAllFeaturesFromPoint","point","featuresArray","dc2003","dc2007","dc2011","dc2015","polygonProps","_home_travis_build_cswbrian_district_councils_dashboard_web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","split","adjustConcavePolygonCentroid","2003","D14","L12","L28","P03","P16","2007","D01","2011","2015","2019","L13","L30","P02","R09","getCentroidFromYearAndCode","selectedIndex","y","polygon","centroid","_interopRequireDefault","defineProperty","exports","default","_react","_default","Fragment","fill","StyledTypography","StyledAddressOption","onClick","react_default","data","label","dc_name_zh","StyledPeopleOption","homeUrl","process","_props$data","avatarPath","Columns","alignItems","src","imgProps","onError","target","style","borderRadius","district","withRouter","dispatch","React","useContext","ContextStore","drawer","assign","history","DRAWER_CLOSE","GET_PEOPLE","SearchAllBox_templateObject","Group","chunk_ca26b926_browser_esm","DropdownIndicator","index_es","withApollo","t","useTranslation","client","_useQuery","useQuery","variables","loading","searchAddress","asyncToGenerator","regenerator_default","mark","_callee","query","records","wrap","_context","prev","AddressParser","sent","abrupt","index","record","coordinate","objectSpread","dname_zh","dname_en","dcd_districts","dc_code","charAt","fullAddress","LANG_EN","LANG_ZH","ele","self","stop","_x","apply","this","searchPeople","_ref2","_callee2","_ref3","_context2","nameRegex","dcd_candidates","sort","b","_x2","search","_ref4","_callee3","_context3","Promise","all","options","_x3","react_select_browser_esm","components","Option","SearchBoxOption","placeholder","noOptionsMessage","loadingMessage","cacheOptions","loadOptions","defaultOptions","AreasTabs","Tabs","AreaTabs_templateObject","AreasTab","Tab","AreaTabs_templateObject2","TabPanel","children","objectWithoutProperties","role","aria-labelledby","AreaTabs","_React$useState","useState","expanded","_React$useState2","slicedToArray","selectedTab","setSelectedTab","_React$useState3","_React$useState4","setExpanded","titles","onChange","event","newValue","centered","title","key","aria-controls","child","hidden","Container","div","DistrictSelector_templateObject","DistrictContainer","Button","DistrictSelector_templateObject2","fontsize","DistrictExpansionPanel","ExpansionPanel","DistrictSelector_templateObject3","DistrictExpansionPanelSummary","ExpansionPanelSummary","DistrictExpansionPanelDetails","ExpansionPanelDetails","renderArea","area","districts","TransitionProps","unmountOnExit","expandIcon","ExpandMore_default","dc_name_en","constituencies","react_apollo_esm","areas","uniqBy","area_code","area_name_zh","area_name_en","areasWithDistricts","areaNames","Paper","SearchTab_templateObject","ExpandedRow","SearchTab_templateObject2","ContentRowContainer","SearchTab_templateObject3","AddressSearchContainer","SearchTab_templateObject4","SearchTab_Container","molecules_DistrictSelector","organisms_SearchAllBox","handleAddressSelected","alt","childrenProp","classNameProp","_props$component","sizes","srcSet","img","system","colorDefault","justifyContent","flexShrink","fontFamily","fontSize","pxToRem","lineHeight","userSelect","backgroundColor","grey","objectFit","_Fade__WEBPACK_IMPORTED_MODULE_6__","Backdrop","_props$invisible","invisible","open","transitionDuration","in","timeout","aria-hidden","zIndex","right","bottom","top","left","WebkitTapHighlightColor","touchAction","react_transition_group__WEBPACK_IMPORTED_MODULE_4__","_styles_transitions__WEBPACK_IMPORTED_MODULE_5__","_styles_useTheme__WEBPACK_IMPORTED_MODULE_6__","_transitions_utils__WEBPACK_IMPORTED_MODULE_7__","_utils_useForkRef__WEBPACK_IMPORTED_MODULE_8__","styles","entering","entered","defaultTimeout","enter","enteringScreen","exit","leavingScreen","Fade","inProp","onEnter","onExit","_props$timeout","handleRef","appear","node","isAppearing","transitionProps","mode","webkitTransition","transitions","create","transition","state","childProps","cloneElement","visibility","setTranslateValue","direction","transform","rect","getBoundingClientRect","fakeTransform","computedStyle","getComputedStyle","getPropertyValue","offsetX","offsetY","transformValues","parseInt","innerWidth","innerHeight","getTranslateValue","webkitTransform","esm_Slide_Slide","_props$direction","onEntering","onExited","useTheme","childrenRef","useRef","handleOwnRef","useCallback","instance","current","react_dom_default","findDOMNode","handleRefIntermediary","useForkRef","updatePosition","useEffect","handleResize","debounce","addEventListener","clear","removeEventListener","Transition","esm_extends","utils","easing","easeOut","sharp","oppositeDirection","defaultTransitionDuration","Drawer_Drawer","_props$anchor","anchor","anchorProp","BackdropProps","_props$elevation","elevation","_props$ModalProps","ModalProps","BackdropPropsProp","onClose","_props$open","PaperProps","SlideProps","_props$transitionDura","mounted","indexOf","isHorizontal","getAnchor","square","clsx_m","paper","capitalize","docked","slidingDrawer","Modal","BackdropComponent","modal","esm_Drawer_Drawer","withStyles","flex","overflowY","flexDirection","WebkitOverflowScrolling","outline","paperAnchorLeft","paperAnchorRight","paperAnchorTop","maxHeight","paperAnchorBottom","paperAnchorDockedLeft","borderRight","divider","paperAnchorDockedTop","borderBottom","paperAnchorDockedRight","borderLeft","paperAnchorDockedBottom","borderTop","flip","LeftMargin","goToPage","route","SearchTab","SearchDrawer_templateObject","MenuContainer","SearchDrawer_templateObject2","NavBarButton","IconButton","useStyles","makeStyles","drawerPaper","maxWidth","_React$useContext$dra","aria-label","Close_default","organisms_SearchMenu"],"mappings":"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","file":"static/js/20.f3844dad.chunk.js","sourcesContent":["import { DCREGION } from 'constants/dcregion'\nimport _ from 'lodash'\nimport i18n from 'i18n'\n\nexport const getDistrictListUriFromTag = tag => {\n  const currentLanguage = getCurrentLanguage()\n  return `/${currentLanguage}/district/2019/tags/${tag}`\n}\n\nexport const getDistrictOverviewUriFromTag = code => {\n  const currentLanguage = getCurrentLanguage()\n  return `/${currentLanguage}/district/2019/${code}`\n}\n\nexport const getConstituencyUriFromTag = code => {\n  const currentLanguage = getCurrentLanguage()\n  return `/${currentLanguage}/district/2019/${code}`\n}\n\nexport const getCodeFromDistrictName = name => {\n  let code = 'A'\n  Object.keys(DCREGION).forEach(k => {\n    if (DCREGION[k].zh_hk === name) {\n      code = k\n    }\n  })\n  return code\n}\n\n/**\n * Passing a councillor object and get the meta data for it\n * (By QUERY_GET_COUNCILLOR_AND_CANDIDATES query)\n */\nexport const getCouncillorMeta = councillor => {\n  const result = {\n    participatedOrdinary: 0,\n    participatedByElection: 0,\n    lastParticipated: {\n      year: 2019,\n      type: 'ordinary',\n      votesDiff: 0,\n      votes: 0,\n      isWon: false,\n    },\n  }\n\n  // should already sorted from query\n  const participatedElections = councillor.person.candidates || []\n  result.participatedByElection = participatedElections.filter(\n    c => c.election_type === 'by-election'\n  ).length\n  result.participatedOrdinary = participatedElections.filter(\n    c => c.election_type === 'ordinary'\n  ).length\n\n  if (participatedElections.length > 0) {\n    // Filter out 2019 result\n    const e = participatedElections.filter(\n      e => !(e.year === 2019 && e.election_type === 'ordinary')\n    )[0]\n    const electionYear = e.year\n\n    const myVotes = e.constituency.candidates.find(\n      c => c.person.id === councillor.person.id && c.year === electionYear\n    ).votes\n    const highestVotes = e.constituency.candidates\n      .filter(\n        c => c.person.id !== councillor.person.id && c.year === electionYear\n      )\n      .map(c => c.votes)\n      .reduce((c, v) => Math.max(c, v), 0)\n    result.lastParticipated = {\n      year: e.year,\n      isWon: e.is_won,\n      votesDiff: myVotes - highestVotes,\n      votes: myVotes,\n      type: e.election_type,\n    }\n  }\n  return result\n}\n\nexport const getColorFromCamp = camp => {\n  if (!camp) return 'uncertain'\n  const mapping = {\n    泛民: 'democracy',\n    民主: 'democracy',\n    建制: 'establishment',\n    本土: 'localist',\n    傘兵: 'localist',\n    自決: 'localist',\n    其他: 'other',\n    不明: 'uncertain',\n  }\n\n  return mapping[camp] || 'uncertain'\n}\n\nexport const getColorFromPoliticalAffiliation = pa => {\n  if (!pa) return 'uncertain'\n\n  const mapping = {\n    democracy: [\n      '民主黨',\n      '公民黨',\n      '香港民主民生協進會',\n      '民協',\n      '社會民主連線',\n      '支聯會',\n      '民主動力',\n      '街坊工友服務處',\n      '街工',\n      '工黨',\n      '職工盟',\n      '新民主同盟',\n      '香港本土',\n      '獨立民主派',\n    ],\n    establishment: [\n      '民主建港協進聯盟',\n      '民建聯',\n      '新界社團聯會',\n      '新社聯',\n      '香港工會聯合會',\n      '工聯會',\n      '港九勞工社團聯會',\n      '香港經濟民生聯盟',\n      '西九新動力',\n      '自由黨',\n      '新民黨',\n      '新世紀論壇',\n    ],\n    localist: [\n      '香港眾志',\n      '青年新政',\n      '本土民主前線',\n      '東九龍社區關注組',\n      '天水圍民生關注平台',\n      '慈雲山建設力量',\n      '屯門社區關注組',\n      '長沙灣社區發展力量',\n      '社區網絡聯盟',\n      '沙田社區網絡',\n      '荃灣社區網絡',\n      '天水圍社區發展網絡',\n      '屯門社區網絡',\n      '葵青連結動力',\n      '藍田社區網絡',\n      '埔向晴天',\n      '荃灣民生動力',\n      '北區動源',\n      '維多利亞社區協會',\n    ],\n    other: ['民主思路', '新思維'],\n  }\n\n  for (let camp of Object.keys(mapping)) {\n    for (let party of mapping[camp]) {\n      if (pa.includes(party)) {\n        return camp\n      }\n    }\n  }\n\n  return 'uncertain'\n}\n\nexport const getProfilePath = person => {\n  const { name_en, name_zh, uuid } = person\n  const currentLanguage = getCurrentLanguage()\n  return `/${currentLanguage}/profile/${name_zh || name_en}/${uuid}`\n}\n\nexport const formatNumber = num =>\n  num.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,')\n\nexport const getParameterByName = (name, url) => {\n  if (!url) url = window.location.href\n  name = name.replace(/[[\\]]/g, '\\\\$&')\n  const regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),\n    results = regex.exec(url)\n  if (!results) return null\n  if (!results[2]) return ''\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '))\n}\n\nexport const getCurrentUrl = () => {\n  return window.location.href\n}\n\nexport const getConstituencyTagsByCandidateCamps = candidates => {\n  const tags = []\n  const filteredCandidates = candidates.filter(\n    c =>\n      c.election_type === 'ordinary' &&\n      c.nominate_status === 'confirmed' &&\n      c.tags.findIndex(\n        tag => tag.type === 'demo_status' && tag.tag === 'planb'\n      ) === -1\n  )\n\n  if (filteredCandidates.length >= 3) {\n    tags.push(withLanguage('Multiple candidates', '多人混戰'))\n  }\n\n  const groupedCamps = _.groupBy(filteredCandidates, c => c.camp)\n  if (groupedCamps['民主'] && groupedCamps['民主'].length > 1) {\n    tags.push(withLanguage('Multiple Pan-dem. candidates', '民主撞區'))\n  }\n\n  if (groupedCamps['建制'] && groupedCamps['建制'].length > 1) {\n    tags.push(withLanguage('Multiple Pro-Est. candidates', '建制撞區'))\n  }\n\n  return tags\n}\n\nexport const withLanguage = (name_en, name_zh) => {\n  var lang = window.location.pathname.match(/^\\/([\\w]{2})\\//)\n  lang = lang ? lang[1] : 'zh'\n  return lang === 'en' && name_en ? name_en : name_zh\n}\n\nexport const getCurrentLanguage = () => {\n  return i18n.language || window.localStorage.i18nextLng || 'zh'\n}\n\nexport const geti18nFromCamp = (camp, isShortForm = false) => {\n  if (!camp) return camp\n\n  const suffix = isShortForm ? '_short_form' : ''\n  const mapping = {\n    民主: `camp.democracy${suffix}`,\n    建制: `camp.establishment${suffix}`,\n    其他: `camp.others${suffix}`,\n  }\n\n  if (!mapping[camp]) return camp\n  return mapping[camp]\n}\n\nexport const customVoteStationMapping = station_code => {\n  const mapping = {\n    M3901: '22.427643,114.071966',\n  }\n  if (mapping[station_code]) return mapping[station_code]\n  return null\n}\n","// TODO: split this\nimport gql from 'graphql-tag'\n\nconst CONSTITUENCIES_DATA = `\nid\nname_zh\nname_en\ndistrict {\n  dc_code\n  dc_name_en\n  dc_name_zh\n  area_name_en\n  area_name_zh\n}\ncode\ndeviation_percentage\nexpected_population\nmain_areas\ndescription_zh\ndescription_en\nvote_stats {\n  count\n  type\n  subtype\n  category_1\n  category_2\n}\nstations {\n  station_code\n  name_en\n  name_zh\n  location\n}\ntags {\n  tag\n  type\n}\nmeta\n`\n\nconst DISTRICT_DATA = `\narea_code\narea_name_zh\narea_name_en\ndc_code\ndc_name_zh\ndc_name_en\ndc_description_zh\nconstituencies( where: { year: { _eq: $year } }, order_by: {code: asc} ) {\n  id\n  name_zh\n  name_en\n  code\n  candidates( where: { year: { _eq: $year } }, order_by: {candidate_number: asc} ) {\n    candidate_number\n    is_won\n    political_affiliation\n    political_affiliation_zh\n    political_affiliation_en\n    election_type\n    camp\n    person {\n      id\n      uuid\n      name_zh\n      name_en\n      related_organization_en\n      related_organization_zh\n    }\n    nominate_status\n    tags {\n      tag\n      type\n    }\n  }\n}\n`\n\nexport const QUERY_CONSTITUENCIES = gql`\nquery($year: Int!, $code: String!, $stationPattern: String) {\n  dcd_constituencies(where: { year: { _eq: $year }, code: { _eq: $code } }) {\n    ${CONSTITUENCIES_DATA}\n    predecessors {\n      intersect_area\n      predecessor {\n        ${CONSTITUENCIES_DATA}\n      }\n    }\n  }\n  dcd_constituency_vote_stations (\n    where: {\n      station_code: {_like:$stationPattern}, \n      year:{_eq:$year}},    \n  ){\n    station_code\n    name_en\n    name_zh\n    address_en\n    address_zh\n    location\n    }  \n}\n`\n\nexport const QUERY_GET_CANDIDATES_BY_IDS = gql`\n  query($year: Int!, $person_id: [Int!]) {\n    dcd_constituencies(\n      where: {\n        year: { _eq: $year }\n        candidates: { person: { id: { _in: $person_id } } }\n      }\n      order_by: { code: asc }\n    ) {\n      id\n      name_zh\n      name_en\n      code\n      candidates(\n        where: { year: { _eq: $year }, person: { id: { _in: $person_id } } }\n        order_by: { candidate_number: asc }\n      ) {\n        candidate_number\n        is_won\n        political_affiliation\n        political_affiliation_zh\n        political_affiliation_en\n        election_type\n        camp\n        person {\n          id\n          uuid\n          name_zh\n          name_en\n          related_organization\n        }\n        nominate_status\n        tags {\n          tag\n          type\n        }\n      }\n    }\n  }\n`\n\nexport const QUERY_GET_CONSTITUENCIES_BY_DISTRICT_CODES = gql`\n  query($year: Int!, $dc: [String!]) {\n    dcd_constituencies(\n      where: { year: { _eq: $year }, code: { _in: $dc } }\n      order_by: { code: asc }\n    ) {\n      id\n      name_zh\n      name_en\n      code\n      candidates(\n        where: { year: { _eq: $year } }\n        order_by: { candidate_number: asc }\n      ) {\n        candidate_number\n        is_won\n        political_affiliation\n        political_affiliation_zh\n        political_affiliation_en\n        election_type\n        camp\n        person {\n          id\n          uuid\n          name_zh\n          name_en\n          related_organization\n        }\n        nominate_status\n        tags {\n          tag\n          type\n        }\n      }\n    }\n  }\n`\n\nexport const QUERY_GET_CONSTITUENCIES_BY_TAG = gql`\nquery($year: Int!, $tag: String!) {\n  dcd_constituencies(\n    where: { year: { _eq: $year }, tags: { tag: {_eq: $tag} } }\n    order_by: {code: asc }\n  ) {\n    ${CONSTITUENCIES_DATA}\n  }  \n}\n`\n\nexport const QUERY_CONSTITUENCY_STATS = gql`\n  query($year: Int!, $code: String!) {\n    dcd_constituencies(where: { year: { _eq: $year }, code: { _eq: $code } }) {\n      vote_stats {\n        count\n        type\n        subtype\n        category_1\n        category_2\n      }\n    }\n  }\n`\n\nexport const QUERY_GET_DISTRICT = gql`\n  query($year: Int!, $code: String!) {\n    dcd_districts( where: { dc_code: { _eq: $code} } ) {\n      ${DISTRICT_DATA}\n    }\n  }\n`\n\nexport const QUERY_GET_ALL_DISTRICTS = gql`\n  query($year: Int!) {\n    dcd_districts(order_by: {dc_code: asc}) {\n      ${DISTRICT_DATA}\n    }\n  }\n`\n\nexport const QUERY_GET_AREA = gql`\n  query {\n    dcd_districts {\n      area_code\n      area_name_en\n      area_name_zh\n      dc_code\n      dc_name_en\n      dc_name_zh\n      constituencies(where: { year: { _eq: 2019 } }) {\n        code\n        name_zh\n        name_en\n      }\n    }\n  }\n`\n\nexport const QUERY_GET_PERSON_ELECTIONS = gql`\n  query get_person_elections($person_id: Int!) {\n    dcd_people_by_pk(id: $person_id) {\n      candidates(order_by: { year: desc }) {\n        year\n        constituency {\n          name_zh\n          name_en\n          code\n        }\n        election_type\n        camp\n        political_affiliation\n        political_affiliation_zh\n        political_affiliation_en\n        votes\n        is_won\n      }\n    }\n  }\n`\n\nexport const QUERY_GET_PERSON_MEETING_ATTENDANCES = gql`\n  query get_meeting_attendance($person_id: Int!) {\n    dcd_councillors(where: { person: { id: { _eq: $person_id } } }) {\n      year\n      cacode\n      term_from\n      term_to\n      career\n      district {\n        dc_name_zh\n      }\n      political_affiliation\n      post\n      constituency {\n        id\n        name_zh\n      }\n      meeting_attendances(\n        order_by: { meeting: { meet_year: desc }, total: desc }\n      ) {\n        meeting {\n          meet_name\n          meet_type\n          meet_year\n        }\n        attended\n        total\n      }\n    }\n  }\n`\n\nexport const QUERY_GET_COUNCILLOR = gql`\n  query fetch_councillors($year: Int!, $code: String!) {\n    dcd_councillors(\n      where: { cacode: { _eq: $code }, year: { _eq: $year } }\n      order_by: { term_to: desc }\n    ) {\n      year\n      term_to\n      term_from\n      political_affiliation\n      constituency {\n        name_zh\n        name_en\n        code\n      }\n      person {\n        id\n        name_en\n        name_zh\n        uuid\n        candidates(order_by: { year: desc }) {\n          votes\n          is_won\n          year\n          cacode\n          election_type\n          constituency {\n            year\n            name_en\n            name_zh\n            candidates {\n              person {\n                id\n                name_en\n                name_zh\n              }\n              year\n              election_type\n              votes\n              political_affiliation\n            }\n          }\n        }\n      }\n    }\n  }\n`\n\nexport const QUERY_GET_CANDIDATES = gql`\n  query fetch_candidates($year: Int!, $code: String!) {\n    dcd_candidates(\n      where: { cacode: { _eq: $code }, year: { _eq: $year } }\n      order_by: { candidate_number: asc }\n    ) {\n      candidate_number\n      is_won\n      political_affiliation\n      political_affiliation_en\n      political_affiliation_zh\n      election_type\n      camp\n      nominate_status\n      tags {\n        tag\n        type\n      }\n      person {\n        id\n        uuid\n        name_zh\n        name_en\n        related_organization\n        description\n      }\n    }\n  }\n`\n\n// This is a dangerous query.. the data size is huge (for 2019 it is 19MB)\nexport const QUERY_GET_CONSTITUENCY_CAMP_DATA = gql`\n  query fetch_camp_data($year: Int!) {\n    dcd_constituencies(where: { year: { _eq: $year } }) {\n      code\n      predecessors(limit: 1, order_by: { intersect_area: desc }) {\n        predecessor {\n          code\n          candidates {\n            camp\n            votes\n            is_won\n          }\n          vote_stats(where: { subtype: { _eq: \"NEW_VOTERS\" } }) {\n            type\n            subtype\n            category_1\n            category_2\n            count\n          }\n        }\n      }\n      vote_stats {\n        type\n        subtype\n        category_1\n        category_2\n        count\n      }\n    }\n  }\n`\n\nexport const QUERY_GET_NOMINATION_SUMMARY = gql`\n  query {\n    c2019: dcd_constituencies(where: { year: { _eq: 2019 } }) {\n      code\n      name_en\n      name_zh\n      district {\n        dc_code\n        dc_name_en\n        dc_name_zh\n      }\n      candidates {\n        camp\n        nominated_at\n        nominate_status\n        election_type\n        tags {\n          tag\n          type\n        }\n      }\n      tags {\n        tag\n      }\n    }\n\n    c2015: dcd_constituencies(where: { year: { _eq: 2015 } }) {\n      code\n      name_en\n      name_zh\n      candidates {\n        votes\n      }\n      tags {\n        tag\n      }\n    }\n\n    c2015: dcd_constituencies(where: { year: { _eq: 2015 } }) {\n      code\n      name_zh\n      candidates {\n        votes\n      }\n    }\n  }\n`\n\nexport const QUERY_GET_CONFIG = gql`\n  query fetch_config($key: String!) {\n    dcd_config(where: { key: { _eq: $key } }) {\n      value\n    }\n  }\n`\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport SvgIcon from '../../SvgIcon';\nexport default function createSvgIcon(path, displayName) {\n  var Component = React.memo(React.forwardRef(function (props, ref) {\n    return React.createElement(SvgIcon, _extends({}, props, {\n      ref: ref\n    }), path);\n  }));\n\n  if (process.env.NODE_ENV !== 'production') {\n    Component.displayName = \"\".concat(displayName, \"Icon\");\n  }\n\n  Component.muiName = SvgIcon.muiName;\n  return Component;\n}","import styled from 'styled-components'\nimport Box from '@material-ui/core/Box'\n\nexport default styled(Box)`\n  && {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    align-content: flex-start;\n    width: 100%;\n    margin: auto;\n  }\n`\n\nexport const SeperatedColumns = styled(Box)`\n  && {\n    margin-top: 8px;\n    display: flex;\n    width: 100%;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n  }\n`\n","// deprecated. should use the data from server\nexport const DCREGION = {\n  A: {\n    zh_hk: '中西區',\n    en_us: 'Central and Western',\n    unelected_dc_seat: 0,\n  },\n  B: {\n    zh_hk: '灣仔',\n    en_us: 'Wan Chai',\n    unelected_dc_seat: 0,\n  },\n  C: {\n    zh_hk: '東區',\n    en_us: 'Eastern',\n    unelected_dc_seat: 0,\n  },\n  D: {\n    zh_hk: '南區',\n    en_us: 'Southern',\n    unelected_dc_seat: 0,\n  },\n  E: {\n    zh_hk: '油尖旺',\n    en_us: 'Yau Tsim Mong',\n    unelected_dc_seat: 0,\n  },\n  F: {\n    zh_hk: '深水埗',\n    en_us: 'Sham Shui Po',\n    unelected_dc_seat: 0,\n  },\n  G: {\n    zh_hk: '九龍城',\n    en_us: 'Kowloon City',\n    unelected_dc_seat: 0,\n  },\n  H: {\n    zh_hk: '黃大仙',\n    en_us: 'Wong Tai Sin',\n    unelected_dc_seat: 0,\n  },\n  J: {\n    zh_hk: '觀塘',\n    en_us: 'Kwun Tong',\n    unelected_dc_seat: 0,\n  },\n  K: {\n    zh_hk: '荃灣',\n    en_us: 'Tsuen Wan',\n    unelected_dc_seat: 2,\n  },\n  L: {\n    zh_hk: '屯門',\n    en_us: 'Tuen Mun',\n    unelected_dc_seat: 1,\n  },\n  M: {\n    zh_hk: '元朗',\n    en_us: 'Yuen Long',\n    unelected_dc_seat: 6,\n  },\n  N: {\n    zh_hk: '北區',\n    en_us: 'North',\n    unelected_dc_seat: 4,\n  },\n  P: {\n    zh_hk: '大埔',\n    en_us: 'Tai Po',\n    unelected_dc_seat: 2,\n  },\n  Q: {\n    zh_hk: '西貢',\n    en_us: 'Sai Kung',\n    unelected_dc_seat: 2,\n  },\n  R: {\n    zh_hk: '沙田',\n    en_us: 'Sha Tin',\n    unelected_dc_seat: 1,\n  },\n  S: {\n    zh_hk: '葵青',\n    en_us: 'Kwai Tsing',\n    unelected_dc_seat: 1,\n  },\n  T: {\n    zh_hk: '離島',\n    en_us: 'Islands',\n    unelected_dc_seat: 8,\n  },\n}\n","import styled from 'styled-components'\nimport Avatar from '@material-ui/core/Avatar'\nimport { COLORS } from 'ui/theme'\n\nexport const PeopleAvatar = styled(Avatar)`\n  && {\n    opacity: ${props => props.opacity};\n    width: ${props => props.dimension};\n    height: ${props => props.dimension};\n    border: ${props => props.borderwidth}px\n      ${props => props.camp && COLORS.camp[props.camp].background} solid;\n  }\n`\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      margin: 0\n    },\n\n    /* Styles applied to the root element if `variant=\"body2\"`. */\n    body2: theme.typography.body2,\n\n    /* Styles applied to the root element if `variant=\"body1\"`. */\n    body1: theme.typography.body1,\n\n    /* Styles applied to the root element if `variant=\"caption\"`. */\n    caption: theme.typography.caption,\n\n    /* Styles applied to the root element if `variant=\"button\"`. */\n    button: theme.typography.button,\n\n    /* Styles applied to the root element if `variant=\"h1\"`. */\n    h1: theme.typography.h1,\n\n    /* Styles applied to the root element if `variant=\"h2\"`. */\n    h2: theme.typography.h2,\n\n    /* Styles applied to the root element if `variant=\"h3\"`. */\n    h3: theme.typography.h3,\n\n    /* Styles applied to the root element if `variant=\"h4\"`. */\n    h4: theme.typography.h4,\n\n    /* Styles applied to the root element if `variant=\"h5\"`. */\n    h5: theme.typography.h5,\n\n    /* Styles applied to the root element if `variant=\"h6\"`. */\n    h6: theme.typography.h6,\n\n    /* Styles applied to the root element if `variant=\"subtitle1\"`. */\n    subtitle1: theme.typography.subtitle1,\n\n    /* Styles applied to the root element if `variant=\"subtitle2\"`. */\n    subtitle2: theme.typography.subtitle2,\n\n    /* Styles applied to the root element if `variant=\"overline\"`. */\n    overline: theme.typography.overline,\n\n    /* Styles applied to the root element if `variant=\"srOnly\"`. Only accessible to screen readers. */\n    srOnly: {\n      position: 'absolute',\n      height: 1,\n      width: 1,\n      overflow: 'hidden'\n    },\n\n    /* Styles applied to the root element if `align=\"left\"`. */\n    alignLeft: {\n      textAlign: 'left'\n    },\n\n    /* Styles applied to the root element if `align=\"center\"`. */\n    alignCenter: {\n      textAlign: 'center'\n    },\n\n    /* Styles applied to the root element if `align=\"right\"`. */\n    alignRight: {\n      textAlign: 'right'\n    },\n\n    /* Styles applied to the root element if `align=\"justify\"`. */\n    alignJustify: {\n      textAlign: 'justify'\n    },\n\n    /* Styles applied to the root element if `nowrap={true}`. */\n    noWrap: {\n      overflow: 'hidden',\n      textOverflow: 'ellipsis',\n      whiteSpace: 'nowrap'\n    },\n\n    /* Styles applied to the root element if `gutterBottom={true}`. */\n    gutterBottom: {\n      marginBottom: '0.35em'\n    },\n\n    /* Styles applied to the root element if `paragraph={true}`. */\n    paragraph: {\n      marginBottom: 16\n    },\n\n    /* Styles applied to the root element if `color=\"inherit\"`. */\n    colorInherit: {\n      color: 'inherit'\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      color: theme.palette.primary.main\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      color: theme.palette.secondary.main\n    },\n\n    /* Styles applied to the root element if `color=\"textPrimary\"`. */\n    colorTextPrimary: {\n      color: theme.palette.text.primary\n    },\n\n    /* Styles applied to the root element if `color=\"textSecondary\"`. */\n    colorTextSecondary: {\n      color: theme.palette.text.secondary\n    },\n\n    /* Styles applied to the root element if `color=\"error\"`. */\n    colorError: {\n      color: theme.palette.error.main\n    },\n\n    /* Styles applied to the root element if `display=\"inline\"`. */\n    displayInline: {\n      display: 'inline'\n    },\n\n    /* Styles applied to the root element if `display=\"block\"`. */\n    displayBlock: {\n      display: 'block'\n    }\n  };\n};\nvar defaultVariantMapping = {\n  h1: 'h1',\n  h2: 'h2',\n  h3: 'h3',\n  h4: 'h4',\n  h5: 'h5',\n  h6: 'h6',\n  subtitle1: 'h6',\n  subtitle2: 'h6',\n  body1: 'p',\n  body2: 'p'\n};\nvar Typography = React.forwardRef(function Typography(props, ref) {\n  var _props$align = props.align,\n      align = _props$align === void 0 ? 'inherit' : _props$align,\n      classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'initial' : _props$color,\n      component = props.component,\n      _props$display = props.display,\n      display = _props$display === void 0 ? 'initial' : _props$display,\n      _props$gutterBottom = props.gutterBottom,\n      gutterBottom = _props$gutterBottom === void 0 ? false : _props$gutterBottom,\n      _props$noWrap = props.noWrap,\n      noWrap = _props$noWrap === void 0 ? false : _props$noWrap,\n      _props$paragraph = props.paragraph,\n      paragraph = _props$paragraph === void 0 ? false : _props$paragraph,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'body1' : _props$variant,\n      _props$variantMapping = props.variantMapping,\n      variantMapping = _props$variantMapping === void 0 ? defaultVariantMapping : _props$variantMapping,\n      other = _objectWithoutProperties(props, [\"align\", \"classes\", \"className\", \"color\", \"component\", \"display\", \"gutterBottom\", \"noWrap\", \"paragraph\", \"variant\", \"variantMapping\"]);\n\n  var Component = component || (paragraph ? 'p' : variantMapping[variant] || defaultVariantMapping[variant]) || 'span';\n  return React.createElement(Component, _extends({\n    className: clsx(classes.root, className, variant !== 'inherit' && classes[variant], color !== 'initial' && classes[\"color\".concat(capitalize(color))], noWrap && classes.noWrap, gutterBottom && classes.gutterBottom, paragraph && classes.paragraph, align !== 'inherit' && classes[\"align\".concat(capitalize(align))], display !== 'initial' && classes[\"display\".concat(capitalize(display))]),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Typography.propTypes = {\n  /**\n   * Set the text-align on the component.\n   */\n  align: PropTypes.oneOf(['inherit', 'left', 'center', 'right', 'justify']),\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['initial', 'inherit', 'primary', 'secondary', 'textPrimary', 'textSecondary', 'error']),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a DOM element or a component.\n   * By default, it maps the variant to a good default headline component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * Controls the display type\n   */\n  display: PropTypes.oneOf(['initial', 'block', 'inline']),\n\n  /**\n   * If `true`, the text will have a bottom margin.\n   */\n  gutterBottom: PropTypes.bool,\n\n  /**\n   * If `true`, the text will not wrap, but instead will truncate with a text overflow ellipsis.\n   *\n   * Note that text overflow can only happen with block or inline-block level elements\n   * (the element needs to have a width in order to overflow).\n   */\n  noWrap: PropTypes.bool,\n\n  /**\n   * If `true`, the text will have a bottom margin.\n   */\n  paragraph: PropTypes.bool,\n\n  /**\n   * Applies the theme typography styles.\n   */\n  variant: PropTypes.oneOf(['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'subtitle1', 'subtitle2', 'body1', 'body2', 'caption', 'button', 'overline', 'srOnly', 'inherit']),\n\n  /**\n   * We are empirically mapping the variant prop to a range of different DOM element types.\n   * For instance, subtitle1 to `<h6>`.\n   * If you wish to change that mapping, you can provide your own.\n   * Alternatively, you can use the `component` prop.\n   */\n  variantMapping: PropTypes.object\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiTypography'\n})(Typography);","import * as turf from '@turf/turf'\n\nimport dc2003 from '../data/DCCA_2003'\nimport dc2007 from '../data/DCCA_2007'\nimport dc2011 from '../data/DCCA_2011'\nimport dc2015 from '../data/DCCA_2015'\nimport dc2019 from '../data/DCCA_2019'\n\nexport const getSingleFeatureFromPoint = ({ lng, lat }) => {\n  const pt = turf.point([lng, lat])\n  // TODO: consider using different year in future\n  // but need to take care of app size\n  const result = {\n    code: null,\n    year: 2019,\n    name_zh: null,\n    name_en: null,\n  }\n  for (let i = 0; i < dc2019.features.length; i++) {\n    const feature = dc2019.features[i]\n    const poly = turf.polygon(feature.geometry.coordinates)\n    if (turf.booleanPointInPolygon(pt, poly)) {\n      result.code = feature.properties.CACODE\n      result.name_zh = feature.properties.CNAME\n      result.name_en = feature.properties.ENAME\n      break\n    }\n  }\n  return result\n}\n\nexport const getAllFeaturesFromPoint = (\n  point,\n  featuresArray = [dc2003, dc2007, dc2011, dc2015, dc2019]\n) => {\n  const pt = turf.point([point.lng, point.lat])\n  const result = featuresArray.map(feature => {\n    let polygonProps = {}\n    for (let i = 0, n = feature.features.length; i < n; i++) {\n      const poly = turf.polygon(feature.features[i].geometry.coordinates)\n      if (turf.booleanPointInPolygon(pt, poly)) {\n        polygonProps = { ...feature.features[i].properties }\n        break\n      }\n    }\n    return {\n      year: feature.name.split('_')[1],\n      ...polygonProps,\n    }\n  })\n\n  return result\n}\n\nexport const adjustConcavePolygonCentroid = (year, code) => {\n  const mapping = {\n    2003: {\n      D14: [114.154877, 22.248274],\n      L12: [113.989521, 22.365375],\n      L28: [113.984099, 22.41374],\n      P03: [114.165739, 22.455871],\n      P16: [114.1620147228241, 22.45361940935254],\n    },\n\n    2007: {\n      D01: [114.154877, 22.248274],\n      L12: [113.989521, 22.365375],\n      L28: [113.984099, 22.41374],\n      P03: [114.165739, 22.455871],\n      P16: [114.1620147228241, 22.45361940935254],\n    },\n\n    2011: {\n      D01: [114.154877, 22.248274],\n      L12: [113.989521, 22.365375],\n      L28: [113.984099, 22.41374],\n      P03: [114.165739, 22.455871],\n      P16: [114.1620147228241, 22.45361940935254],\n    },\n    2015: {\n      D01: [114.154877, 22.248274],\n      L12: [113.989521, 22.365375],\n      L28: [113.984099, 22.41374],\n      P03: [114.165739, 22.455871],\n      P16: [114.1620147228241, 22.45361940935254],\n    },\n\n    2019: {\n      D01: [114.154877, 22.248274],\n      L12: [114.006628, 22.377846],\n      L13: [113.989521, 22.365375],\n      L30: [113.984099, 22.41374],\n      P02: [114.165739, 22.455871],\n      P16: [114.1620147228241, 22.45361940935254],\n      R09: [114.198862, 22.370661],\n    },\n  }\n\n  if (!mapping[year][code]) return\n  return mapping[year][code]\n}\n\nexport const getCentroidFromYearAndCode = (year, code) => {\n  const featuresArray = [dc2003, dc2007, dc2011, dc2015, dc2019]\n  const selectedIndex = [2003, 2007, 2011, 2015, 2019].findIndex(\n    y => y === year\n  )\n\n  if (selectedIndex > -1) {\n    const selectedFeature = featuresArray[selectedIndex]\n    const polygon = selectedFeature.features.find(\n      feature => feature.properties.CACODE === code\n    )\n    const centroid = turf.centroid(polygon)\n    // finetune for concave polygon for 2019 districts\n    return (\n      adjustConcavePolygonCentroid(year, code) || centroid.geometry.coordinates\n    )\n  }\n  return\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(_react.default.Fragment, null, _react.default.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), _react.default.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n})), 'Close');\n\nexports.default = _default;","import React from 'react'\nimport { Box, Typography } from '@material-ui/core'\nimport styled from 'styled-components'\nimport { PeopleAvatar } from 'components/atoms/Avatar'\nimport { getColorFromCamp } from 'utils/helper'\nimport Columns from 'components/atoms/Columns'\nimport { withRouter } from 'react-router-dom'\nimport ContextStore from 'ContextStore'\nimport { DRAWER_CLOSE } from 'reducers/drawer'\nimport { getProfilePath, getCurrentLanguage } from 'utils/helper'\n// import { fireEvent } from 'utils/ga_fireevent'\n\nconst AddressOption = props => {\n  const { className, onClick } = props\n  return (\n    <Box\n      className={className}\n      onClick={() =>\n        onClick({ year: 2019, code: props.data.constituency.code })\n      }\n    >\n      <Typography variant=\"h5\">{props.label}</Typography>\n      {props.data.constituency && (\n        <Typography variant=\"caption\" color=\"textSecondary\">{`${props.data\n          .constituency.dc_name_zh || ''} | ${props.data.constituency.code} - ${\n          props.data.constituency.name_zh\n        }`}</Typography>\n      )}\n    </Box>\n  )\n}\n\nconst StyledTypography = styled(Typography)`\n  && {\n    margin-left: 8px;\n  }\n`\n\nexport const PeopleOption = props => {\n  const homeUrl = process.env.REACT_APP_HOST_URI\n  const { className, onClick } = props\n  const { uuid, name_zh, name_en, camp, constituency } = props.data\n  const avatarPath = uuid\n    ? `${homeUrl}/static/images/avatar/100x100/${uuid}.jpg`\n    : `${homeUrl}/static/images/avatar/default.png`\n  return (\n    <Box\n      className={className}\n      onClick={() => onClick({ uuid, name_zh, name_en })}\n    >\n      <Columns alignItems=\"center\">\n        <PeopleAvatar\n          borderwidth={2}\n          camp={getColorFromCamp(camp)}\n          src={avatarPath}\n          imgProps={{\n            onError: e => {\n              e.target.src = `${homeUrl}/static/images/avatar/default.png`\n            },\n          }}\n          style={{\n            width: '48px',\n            height: '48px',\n            borderRadius: '24px',\n          }}\n        />\n        <StyledTypography variant=\"h4\">{name_zh || name_en}</StyledTypography>\n        {constituency && (\n          <StyledTypography variant=\"h6\" color=\"textSecondary\">\n            {`${constituency.district.dc_name_zh || ''} | ${\n              constituency.code\n            } - ${constituency.name_zh}`}\n          </StyledTypography>\n        )}\n      </Columns>\n    </Box>\n  )\n}\n\nconst StyledAddressOption = styled(AddressOption)`\n  && {\n    padding-left: 8px;\n    padding-top: 8px;\n  }\n`\nconst StyledPeopleOption = styled(PeopleOption)`\n  && {\n    padding-left: 8px;\n    padding-top: 8px;\n  }\n`\n\nexport default withRouter(props => {\n  const {\n    drawer: { dispatch },\n  } = React.useContext(ContextStore)\n\n  function handleAddressSelected({ year, code }) {\n    const currentLanguage = getCurrentLanguage()\n    props.history.push(`/${currentLanguage}/district/${year}/${code}`)\n    dispatch({ type: DRAWER_CLOSE })\n  }\n\n  function handlePeopleSelected(person) {\n    const path = getProfilePath(person)\n    props.history.push(path)\n    dispatch({ type: DRAWER_CLOSE })\n  }\n\n  const { type } = props.data\n  return (\n    <>\n      {type === 'address' ? (\n        <StyledAddressOption {...props} onClick={handleAddressSelected} />\n      ) : (\n        <StyledPeopleOption {...props} onClick={handlePeopleSelected} />\n      )}\n    </>\n  )\n})\n","import React from 'react'\nimport AsyncSelect from 'react-select/async'\nimport { components } from 'react-select'\nimport * as AddressParser from 'hk-address-parser-lib'\nimport SearchBoxOption from 'components/molecules/SearchBoxOption'\nimport gql from 'graphql-tag'\nimport { withApollo } from 'react-apollo'\nimport { getSingleFeatureFromPoint } from 'utils/features'\nimport { useQuery } from '@apollo/react-hooks'\nimport { QUERY_GET_ALL_DISTRICTS } from 'queries/gql'\nimport { Search } from '@material-ui/icons'\nimport { useTranslation } from 'react-i18next'\nimport { withLanguage } from 'utils/helper'\n\nconst GET_PEOPLE = gql`\n  query($nameRegex: String) {\n    dcd_candidates(\n      where: {\n        person: {\n          _or: [\n            { name_zh: { _like: $nameRegex } }\n            { name_en: { _ilike: $nameRegex } }\n          ]\n        }\n      }\n      limit: 50\n      order_by: { person_id: asc, year: desc }\n      distinct_on: person_id\n    ) {\n      person {\n        id\n        uuid\n        name_zh\n        name_en\n      }\n      camp\n      year\n      constituency {\n        code\n        name_zh\n        name_en\n        district {\n          dc_name_zh\n          dc_name_en\n        }\n      }\n    }\n  }\n`\n\n//TODO: move to atoms?\nconst Group = props => (\n  <div>\n    <components.Group {...props} />\n  </div>\n)\n\nconst DropdownIndicator = props => {\n  return (\n    <components.DropdownIndicator {...props}>\n      <Search />\n    </components.DropdownIndicator>\n  )\n}\n\nconst SearchAllBox = props => {\n  const { t } = useTranslation()\n  const { client } = props\n  const { loading, data, error } = useQuery(QUERY_GET_ALL_DISTRICTS, {\n    variables: {\n      year: 2019,\n    },\n    client,\n  })\n\n  const getDisctrictNameByCode = code => {\n    if (loading || error) {\n      return {\n        dname_zh: null,\n        dname_en: null,\n      }\n    } else {\n      return data.dcd_districts.find(d => d.dc_code === code.charAt(0))\n    }\n  }\n\n  const searchAddress = async query => {\n    const records = await AddressParser.parse(query)\n    return records\n      .filter((_, index) => index < 10)\n      .map(record => {\n        let constituency = getSingleFeatureFromPoint(record.coordinate())\n        constituency = {\n          ...constituency,\n          ...getDisctrictNameByCode(constituency.code),\n        }\n        return {\n          coordinate: record.coordinate(),\n          constituency,\n          label: withLanguage(\n            record.fullAddress(AddressParser.Address.LANG_EN),\n            record.fullAddress(AddressParser.Address.LANG_ZH)\n          ),\n          type: 'address',\n        }\n      })\n      .filter(\n        (ele, index, self) =>\n          index === self.findIndex(record => record.label === ele.label)\n      )\n      .filter((_, i) => i <= 3)\n  }\n\n  const searchPeople = async query => {\n    const { data } = await client.query({\n      query: GET_PEOPLE,\n      variables: {\n        nameRegex: `%${query}%`,\n      },\n    })\n    data.dcd_candidates.sort((a, b) => b.year - a.year)\n    return data.dcd_candidates\n      .map(c => ({\n        label: withLanguage(c.person.name_en, c.person.name_zh), //c.person.name_zh || c.person.name_en,\n        uuid: c.person.uuid,\n        name_zh: withLanguage(c.person.name_en, c.person.name_zh), // c.person.name_zh,\n        name_en: withLanguage(c.person.name_en, c.person.name_zh), // c.person.name_en,\n        constituency: c.constituency,\n        camp: c.camp,\n        type: 'people',\n      }))\n      .filter((_, i) => i <= 3)\n  }\n\n  const search = async query => {\n    const results = await Promise.all([\n      searchAddress(query),\n      searchPeople(query),\n    ])\n    return [\n      {\n        label: t('candidates'),\n        options: results[1],\n      },\n      {\n        label: t('constituency'),\n        options: results[0],\n      },\n    ]\n  }\n\n  return (\n    <>\n      <AsyncSelect\n        components={{\n          Option: SearchBoxOption,\n          DropdownIndicator,\n          Group,\n        }}\n        placeholder={t('searcher.placeholder')}\n        noOptionsMessage={() => t('searcher.noResultPlaceholder') || ''}\n        loadingMessage={() => t('searcher.loadingText') || ''}\n        cacheOptions\n        loadOptions={search}\n        defaultOptions\n      />\n    </>\n  )\n}\nexport default withApollo(SearchAllBox)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport Typography from '@material-ui/core/Typography'\nimport styled from 'styled-components'\nimport { COLORS } from 'ui/theme'\n\nconst AreasTabs = styled(Tabs)`\n  && {\n    .MuiTabs-indicator {\n      background-color: ${COLORS.main.primary};\n    }\n  }\n`\n// Updated 2019-10-19 Hackathon - make the AreasTab look like a button\nconst AreasTab = styled(Tab)`\n  && {\n    color: ${COLORS.main.primary};\n    margin: 3px 5px;\n    font-weight: 600;\n    opacity: 1;\n  }\n`\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props\n\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      id={`district-tabpanel-${index}`}\n      aria-labelledby={`district-tab-${index}`}\n      {...other}\n    >\n      <>{children}</>\n    </Typography>\n  )\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  titles: PropTypes.array,\n}\n\nexport default function AreaTabs(props) {\n  const [selectedTab, setSelectedTab] = React.useState(\n    props.expanded ? 0 : false\n  )\n  const [expanded, setExpanded] = React.useState(props.expanded)\n  const { titles, children } = props\n\n  function handleChange(event, newValue) {\n    if (selectedTab === newValue) {\n      setExpanded(!expanded)\n      setSelectedTab(false)\n    } else {\n      setExpanded(true)\n      setSelectedTab(newValue)\n    }\n  }\n\n  return (\n    <>\n      <AreasTabs value={selectedTab} onChange={handleChange} centered>\n        {titles.map((title, index) => (\n          <AreasTab\n            label={title}\n            id={`district-tab-${index}`}\n            key={index}\n            aria-controls={`district-tabpanel-${index}`}\n          />\n        ))}\n      </AreasTabs>\n      {// TODO: support single tab\n      children &&\n        children.length > 0 &&\n        children.map((child, index) => (\n          <TabPanel key={index} hidden={!expanded || selectedTab !== index}>\n            {child}\n          </TabPanel>\n        ))}\n    </>\n  )\n}\n","import React from 'react'\nimport { Typography, Button } from '@material-ui/core'\nimport styled from 'styled-components'\nimport {\n  ExpansionPanel,\n  ExpansionPanelSummary,\n  ExpansionPanelDetails,\n} from '@material-ui/core'\nimport _ from 'lodash'\nimport { DRAWER_CLOSE } from 'reducers/drawer'\nimport ContextStore from 'ContextStore'\nimport { withRouter } from 'react-router-dom'\nimport { Query } from 'react-apollo'\nimport { QUERY_GET_AREA } from 'queries/gql'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport AreaTabs from 'components/organisms/AreaTabs'\nimport {\n  getDistrictOverviewUriFromTag,\n  getConstituencyUriFromTag,\n  withLanguage,\n} from 'utils/helper'\nimport { useTranslation } from 'react-i18next'\n\nconst Container = styled.div`\n  && {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    vertical-align: top;\n  }\n`\n\nconst DistrictContainer = styled(Button)`\n  && {\n    width: 50%;\n    justify-content: left;\n    text-align: left;\n    text-transform: capitalize;\n    font-size: ${props => props.fontsize}px;\n  }\n`\n\nconst DistrictExpansionPanel = styled(ExpansionPanel)`\n  && {\n    box-shadow: none;\n  }\n`\n\nconst DistrictExpansionPanelSummary = styled(ExpansionPanelSummary)`\n  && {\n    font-weightL 600px;\n    .Mui-expanded {\n    }\n  }\n`\n\nconst DistrictExpansionPanelDetails = styled(ExpansionPanelDetails)`\n  && {\n    padding: 0 16px 0;\n  }\n`\n\nconst DistrictSelector = props => {\n  const {\n    drawer: { dispatch },\n  } = React.useContext(ContextStore)\n\n  const { t } = useTranslation()\n\n  const renderDCCA = district => {\n    return (\n      <div key={district.dc_code}>\n        <DistrictContainer\n          key={district.dc_code}\n          onClick={() => {\n            dispatch({ type: DRAWER_CLOSE })\n            props.history.push(getDistrictOverviewUriFromTag(district.dc_code))\n          }}\n          color=\"secondary\"\n        >\n          <Typography variant=\"h5\">{t('districtSelector.overview')}</Typography>\n        </DistrictContainer>\n        {district.constituencies.map(c => {\n          return (\n            <DistrictContainer\n              key={c.code}\n              onClick={() => {\n                dispatch({ type: DRAWER_CLOSE })\n                props.history.push(getConstituencyUriFromTag(c.code))\n              }}\n            >\n              <Typography variant=\"h5\">\n                {withLanguage(c.name_en, c.name_zh)}\n              </Typography>\n            </DistrictContainer>\n          )\n        })}\n      </div>\n    )\n  }\n\n  const renderArea = (area, i) => (\n    <div key={`area-${i}`}>\n      {area.districts\n        .sort((a, b) => {\n          if (a.dc_code > b.dc_code) return 1\n          if (a.dc_code < b.dc_code) return -1\n          return 0\n        })\n        .map((d, index) => (\n          <DistrictExpansionPanel\n            key={`district-panel-${d.dc_code}`}\n            TransitionProps={{ unmountOnExit: true }}\n          >\n            <DistrictExpansionPanelSummary\n              aria-controls=\"panel1a-content\"\n              id=\"panel1a-header\"\n              expandIcon={<ExpandMoreIcon />}\n            >\n              <Typography variant=\"h5\">\n                {withLanguage(d.dc_name_en, d.dc_name_zh)}\n              </Typography>\n            </DistrictExpansionPanelSummary>\n            <DistrictExpansionPanelDetails>\n              {renderDCCA(d)}\n            </DistrictExpansionPanelDetails>\n          </DistrictExpansionPanel>\n        ))}\n    </div>\n  )\n\n  return (\n    <Container>\n      <Query query={QUERY_GET_AREA}>\n        {({ loading, error, data }) => {\n          if (loading) return null\n          if (error) return `Error! ${error}`\n\n          const areas = _.uniqBy(\n            data.dcd_districts.map(d => ({\n              area_code: d.area_code,\n              area_name_zh: withLanguage(d.area_name_en, d.area_name_zh),\n            })),\n            'area_code'\n          )\n\n          const areasWithDistricts = areas.map(a => ({\n            ...a,\n            districts: data.dcd_districts.filter(\n              d =>\n                withLanguage(d.area_name_en, d.area_name_zh) ===\n                withLanguage(a.area_name_en, a.area_name_zh)\n            ),\n          }))\n\n          const areaNames = areas.map(a =>\n            withLanguage(a.area_name_en, a.area_name_zh)\n          )\n\n          return (\n            <AreaTabs titles={areaNames} expanded={props.expanded}>\n              {areasWithDistricts.map((a, index) => {\n                return renderArea(a, index)\n              })}\n            </AreaTabs>\n          )\n        }}\n      </Query>\n    </Container>\n  )\n}\n\nexport default withRouter(DistrictSelector)\n","import React from 'react'\nimport styled from 'styled-components'\nimport Box from '@material-ui/core/Box'\nimport SearchAllBox from 'components/organisms/SearchAllBox'\nimport Paper from '@material-ui/core/Paper'\nimport { withRouter } from 'react-router-dom'\nimport ContextStore from 'ContextStore'\nimport { DRAWER_CLOSE } from 'reducers/drawer'\nimport DistrictSelector from 'components/molecules/DistrictSelector'\nimport { getCurrentLanguage } from 'utils/helper'\n\nconst Container = styled(Paper)`\n  && {\n    width: 100%;\n    box-shadow: none;\n  }\n`\n\nconst ExpandedRow = styled(Box)`\n  && {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    flex-grow: 1;\n  }\n`\n\nconst ContentRowContainer = styled(ExpandedRow)`\n  && {\n    flex-flow: column;\n  }\n`\n\nconst AddressSearchContainer = styled(Box)`\n  && {\n    width: 100%;\n    position: relative;\n    left: 0;\n    right: 0;\n    padding: 8px 0px 8px;\n  }\n`\n\nfunction SearchTab(props) {\n  const {\n    drawer: { dispatch },\n  } = React.useContext(ContextStore)\n\n  function handleAddressSelected(result) {\n    /* TODO:\n      Use context (?) to store the Global district result array\n      When user select click previous button in district page,\n      the CACODE should follow follow the above result\n    */\n    const currentLanguage = getCurrentLanguage()\n    props.history.push(\n      `/${currentLanguage}/district/${result.year}/${result.code}`\n    )\n    dispatch({ type: DRAWER_CLOSE })\n  }\n\n  return (\n    <Container>\n      <ContentRowContainer>\n        <DistrictSelector expanded={false} />\n        <AddressSearchContainer>\n          <SearchAllBox handleAddressSelected={handleAddressSelected} />\n        </AddressSearchContainer>\n      </ContentRowContainer>\n    </Container>\n  )\n}\n\nexport default withRouter(SearchTab)\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      position: 'relative',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      flexShrink: 0,\n      width: 40,\n      height: 40,\n      fontFamily: theme.typography.fontFamily,\n      fontSize: theme.typography.pxToRem(20),\n      lineHeight: 1,\n      borderRadius: '50%',\n      overflow: 'hidden',\n      userSelect: 'none'\n    },\n\n    /* Styles applied to the root element if there are children and not `src` or `srcSet`. */\n    colorDefault: {\n      color: theme.palette.background.default,\n      backgroundColor: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[600]\n    },\n\n    /* Styles applied to the img element if either `src` or `srcSet` is defined. */\n    img: {\n      width: '100%',\n      height: '100%',\n      textAlign: 'center',\n      // Handle non-square image. The property isn't supported by IE 11.\n      objectFit: 'cover'\n    }\n  };\n};\nvar Avatar = React.forwardRef(function Avatar(props, ref) {\n  var alt = props.alt,\n      childrenProp = props.children,\n      classes = props.classes,\n      classNameProp = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      imgProps = props.imgProps,\n      sizes = props.sizes,\n      src = props.src,\n      srcSet = props.srcSet,\n      other = _objectWithoutProperties(props, [\"alt\", \"children\", \"classes\", \"className\", \"component\", \"imgProps\", \"sizes\", \"src\", \"srcSet\"]);\n\n  var children = null;\n  var img = src || srcSet;\n\n  if (img) {\n    children = React.createElement(\"img\", _extends({\n      alt: alt,\n      src: src,\n      srcSet: srcSet,\n      sizes: sizes,\n      className: classes.img\n    }, imgProps));\n  } else {\n    children = childrenProp;\n  }\n\n  return React.createElement(Component, _extends({\n    className: clsx(classes.root, classes.system, classNameProp, !img && classes.colorDefault),\n    ref: ref\n  }, other), children);\n});\nprocess.env.NODE_ENV !== \"production\" ? Avatar.propTypes = {\n  /**\n   * Used in combination with `src` or `srcSet` to\n   * provide an alt attribute for the rendered `img` element.\n   */\n  alt: PropTypes.string,\n\n  /**\n   * Used to render icon or text elements inside the Avatar if `src` is not set.\n   * This can be an element, or just a string.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a DOM element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * Attributes applied to the `img` element if the component\n   * is used to display an image.\n   */\n  imgProps: PropTypes.object,\n\n  /**\n   * The `sizes` attribute for the `img` element.\n   */\n  sizes: PropTypes.string,\n\n  /**\n   * The `src` attribute for the `img` element.\n   */\n  src: PropTypes.string,\n\n  /**\n   * The `srcSet` attribute for the `img` element.\n   */\n  srcSet: PropTypes.string\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiAvatar'\n})(Avatar);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport Fade from '../Fade';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    zIndex: -1,\n    position: 'fixed',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    right: 0,\n    bottom: 0,\n    top: 0,\n    left: 0,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    // Remove grey highlight\n    WebkitTapHighlightColor: 'transparent',\n    // Disable scroll capabilities.\n    touchAction: 'none'\n  },\n\n  /* Styles applied to the root element if `invisible={true}`. */\n  invisible: {\n    backgroundColor: 'transparent'\n  }\n};\nvar Backdrop = React.forwardRef(function Backdrop(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$invisible = props.invisible,\n      invisible = _props$invisible === void 0 ? false : _props$invisible,\n      open = props.open,\n      transitionDuration = props.transitionDuration,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"invisible\", \"open\", \"transitionDuration\"]);\n\n  return React.createElement(Fade, _extends({\n    in: open,\n    timeout: transitionDuration\n  }, other), React.createElement(\"div\", {\n    className: clsx(classes.root, className, invisible && classes.invisible),\n    \"aria-hidden\": true,\n    ref: ref\n  }, children));\n});\nprocess.env.NODE_ENV !== \"production\" ? Backdrop.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the backdrop is invisible.\n   * It can be used when rendering a popover or a custom select component.\n   */\n  invisible: PropTypes.bool,\n\n  /**\n   * If `true`, the backdrop is open.\n   */\n  open: PropTypes.bool.isRequired,\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   */\n  transitionDuration: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiBackdrop'\n})(Backdrop);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Transition } from 'react-transition-group';\nimport { duration } from '../styles/transitions';\nimport useTheme from '../styles/useTheme';\nimport { reflow, getTransitionProps } from '../transitions/utils';\nimport useForkRef from '../utils/useForkRef';\nvar styles = {\n  entering: {\n    opacity: 1\n  },\n  entered: {\n    opacity: 1\n  }\n};\nvar defaultTimeout = {\n  enter: duration.enteringScreen,\n  exit: duration.leavingScreen\n};\n/**\n * The Fade transition is used by the [Modal](/components/modal/) component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\n\nvar Fade = React.forwardRef(function Fade(props, ref) {\n  var children = props.children,\n      inProp = props.in,\n      onEnter = props.onEnter,\n      onExit = props.onExit,\n      style = props.style,\n      _props$timeout = props.timeout,\n      timeout = _props$timeout === void 0 ? defaultTimeout : _props$timeout,\n      other = _objectWithoutProperties(props, [\"children\", \"in\", \"onEnter\", \"onExit\", \"style\", \"timeout\"]);\n\n  var theme = useTheme();\n  var handleRef = useForkRef(children.ref, ref);\n\n  var handleEnter = function handleEnter(node, isAppearing) {\n    reflow(node); // So the animation always start from the start.\n\n    var transitionProps = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'enter'\n    });\n    node.style.webkitTransition = theme.transitions.create('opacity', transitionProps);\n    node.style.transition = theme.transitions.create('opacity', transitionProps);\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  };\n\n  var handleExit = function handleExit(node) {\n    var transitionProps = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'exit'\n    });\n    node.style.webkitTransition = theme.transitions.create('opacity', transitionProps);\n    node.style.transition = theme.transitions.create('opacity', transitionProps);\n\n    if (onExit) {\n      onExit(node);\n    }\n  };\n\n  return React.createElement(Transition, _extends({\n    appear: true,\n    in: inProp,\n    onEnter: handleEnter,\n    onExit: handleExit,\n    timeout: timeout\n  }, other), function (state, childProps) {\n    return React.cloneElement(children, _extends({\n      style: _extends({\n        opacity: 0,\n        visibility: state === 'exited' && !inProp ? 'hidden' : undefined\n      }, styles[state], {}, style, {}, children.props.style),\n      ref: handleRef\n    }, childProps));\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Fade.propTypes = {\n  /**\n   * A single child content element.\n   */\n  children: PropTypes.element,\n\n  /**\n   * If `true`, the component will transition in.\n   */\n  in: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   */\n  timeout: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })])\n} : void 0;\nexport default Fade;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport debounce from '../utils/debounce';\nimport { Transition } from 'react-transition-group';\nimport { elementAcceptingRef } from '@material-ui/utils';\nimport useForkRef from '../utils/useForkRef';\nimport useTheme from '../styles/useTheme';\nimport { duration } from '../styles/transitions';\nimport { reflow, getTransitionProps } from '../transitions/utils'; // Translate the node so he can't be seen on the screen.\n// Later, we gonna translate back the node to his original location\n// with `none`.`\n\nfunction getTranslateValue(direction, node) {\n  var rect = node.getBoundingClientRect();\n  var transform;\n\n  if (node.fakeTransform) {\n    transform = node.fakeTransform;\n  } else {\n    var computedStyle = window.getComputedStyle(node);\n    transform = computedStyle.getPropertyValue('-webkit-transform') || computedStyle.getPropertyValue('transform');\n  }\n\n  var offsetX = 0;\n  var offsetY = 0;\n\n  if (transform && transform !== 'none' && typeof transform === 'string') {\n    var transformValues = transform.split('(')[1].split(')')[0].split(',');\n    offsetX = parseInt(transformValues[4], 10);\n    offsetY = parseInt(transformValues[5], 10);\n  }\n\n  if (direction === 'left') {\n    return \"translateX(\".concat(window.innerWidth, \"px) translateX(-\").concat(rect.left - offsetX, \"px)\");\n  }\n\n  if (direction === 'right') {\n    return \"translateX(-\".concat(rect.left + rect.width - offsetX, \"px)\");\n  }\n\n  if (direction === 'up') {\n    return \"translateY(\".concat(window.innerHeight, \"px) translateY(-\").concat(rect.top - offsetY, \"px)\");\n  } // direction === 'down'\n\n\n  return \"translateY(-\".concat(rect.top + rect.height - offsetY, \"px)\");\n}\n\nexport function setTranslateValue(direction, node) {\n  var transform = getTranslateValue(direction, node);\n\n  if (transform) {\n    node.style.webkitTransform = transform;\n    node.style.transform = transform;\n  }\n}\nvar defaultTimeout = {\n  enter: duration.enteringScreen,\n  exit: duration.leavingScreen\n};\n/**\n * The Slide transition is used by the [Drawer](/components/drawers/) component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\n\nvar Slide = React.forwardRef(function Slide(props, ref) {\n  var children = props.children,\n      _props$direction = props.direction,\n      direction = _props$direction === void 0 ? 'down' : _props$direction,\n      inProp = props.in,\n      onEnter = props.onEnter,\n      onEntering = props.onEntering,\n      onExit = props.onExit,\n      onExited = props.onExited,\n      style = props.style,\n      _props$timeout = props.timeout,\n      timeout = _props$timeout === void 0 ? defaultTimeout : _props$timeout,\n      other = _objectWithoutProperties(props, [\"children\", \"direction\", \"in\", \"onEnter\", \"onEntering\", \"onExit\", \"onExited\", \"style\", \"timeout\"]);\n\n  var theme = useTheme();\n  var childrenRef = React.useRef(null);\n  /**\n   * used in cloneElement(children, { ref: handleRef })\n   */\n\n  var handleOwnRef = React.useCallback(function (instance) {\n    // #StrictMode ready\n    childrenRef.current = ReactDOM.findDOMNode(instance);\n  }, []);\n  var handleRefIntermediary = useForkRef(children.ref, handleOwnRef);\n  var handleRef = useForkRef(handleRefIntermediary, ref);\n\n  var handleEnter = function handleEnter(_, isAppearing) {\n    var node = childrenRef.current;\n    setTranslateValue(direction, node);\n    reflow(node);\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  };\n\n  var handleEntering = function handleEntering(_, isAppearing) {\n    var node = childrenRef.current;\n    var transitionProps = getTransitionProps({\n      timeout: timeout,\n      style: style\n    }, {\n      mode: 'enter'\n    });\n    node.style.webkitTransition = theme.transitions.create('-webkit-transform', _extends({}, transitionProps, {\n      easing: theme.transitions.easing.easeOut\n    }));\n    node.style.transition = theme.transitions.create('transform', _extends({}, transitionProps, {\n      easing: theme.transitions.easing.easeOut\n    }));\n    node.style.webkitTransform = 'none';\n    node.style.transform = 'none';\n\n    if (onEntering) {\n      onEntering(node, isAppearing);\n    }\n  };\n\n  var handleExit = function handleExit() {\n    var node = childrenRef.current;\n    var transitionProps = getTransitionProps({\n      timeout: timeout,\n      style: style\n    }, {\n      mode: 'exit'\n    });\n    node.style.webkitTransition = theme.transitions.create('-webkit-transform', _extends({}, transitionProps, {\n      easing: theme.transitions.easing.sharp\n    }));\n    node.style.transition = theme.transitions.create('transform', _extends({}, transitionProps, {\n      easing: theme.transitions.easing.sharp\n    }));\n    setTranslateValue(direction, node);\n\n    if (onExit) {\n      onExit(node);\n    }\n  };\n\n  var handleExited = function handleExited() {\n    var node = childrenRef.current; // No need for transitions when the component is hidden\n\n    node.style.webkitTransition = '';\n    node.style.transition = '';\n\n    if (onExited) {\n      onExited(node);\n    }\n  };\n\n  var updatePosition = React.useCallback(function () {\n    if (childrenRef.current) {\n      setTranslateValue(direction, childrenRef.current);\n    }\n  }, [direction]);\n  React.useEffect(function () {\n    // Skip configuration where the position is screen size invariant.\n    if (!inProp && direction !== 'down' && direction !== 'right') {\n      var handleResize = debounce(function () {\n        if (childrenRef.current) {\n          setTranslateValue(direction, childrenRef.current);\n        }\n      });\n      window.addEventListener('resize', handleResize);\n      return function () {\n        handleResize.clear();\n        window.removeEventListener('resize', handleResize);\n      };\n    }\n\n    return undefined;\n  }, [direction, inProp]);\n  React.useEffect(function () {\n    if (!inProp) {\n      // We need to update the position of the drawer when the direction change and\n      // when it's hidden.\n      updatePosition();\n    }\n  }, [inProp, updatePosition]);\n  return React.createElement(Transition, _extends({\n    onEnter: handleEnter,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExited: handleExited,\n    appear: true,\n    in: inProp,\n    timeout: timeout\n  }, other), function (state, childProps) {\n    return React.cloneElement(children, _extends({\n      ref: handleRef,\n      style: _extends({\n        visibility: state === 'exited' && !inProp ? 'hidden' : undefined\n      }, style, {}, children.props.style)\n    }, childProps));\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Slide.propTypes = {\n  /**\n   * A single child content element.\n   */\n  children: elementAcceptingRef,\n\n  /**\n   * Direction the child node will enter from.\n   */\n  direction: PropTypes.oneOf(['left', 'right', 'up', 'down']),\n\n  /**\n   * If `true`, show the component; triggers the enter or exit animation.\n   */\n  in: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExited: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   */\n  timeout: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })])\n} : void 0;\nexport default Slide;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport Modal from '../Modal';\nimport Backdrop from '../Backdrop';\nimport withStyles from '../styles/withStyles';\nimport Slide from '../Slide';\nimport Paper from '../Paper';\nimport capitalize from '../utils/capitalize';\nimport { duration } from '../styles/transitions';\nimport useTheme from '../styles/useTheme';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {},\n\n    /* Styles applied to the root element if `variant=\"permanent or persistent\"`. */\n    docked: {\n      flex: '0 0 auto'\n    },\n\n    /* Styles applied to the `Paper` component. */\n    paper: {\n      overflowY: 'auto',\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100%',\n      flex: '1 0 auto',\n      zIndex: theme.zIndex.drawer,\n      WebkitOverflowScrolling: 'touch',\n      // Add iOS momentum scrolling.\n      // temporary style\n      position: 'fixed',\n      top: 0,\n      // We disable the focus ring for mouse, touch and keyboard users.\n      // At some point, it would be better to keep it for keyboard users.\n      // :focus-ring CSS pseudo-class will help.\n      outline: 0\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"left\"`. */\n    paperAnchorLeft: {\n      left: 0,\n      right: 'auto'\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"right\"`. */\n    paperAnchorRight: {\n      left: 'auto',\n      right: 0\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"top\"`. */\n    paperAnchorTop: {\n      top: 0,\n      left: 0,\n      bottom: 'auto',\n      right: 0,\n      height: 'auto',\n      maxHeight: '100%'\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"bottom\"`. */\n    paperAnchorBottom: {\n      top: 'auto',\n      left: 0,\n      bottom: 0,\n      right: 0,\n      height: 'auto',\n      maxHeight: '100%'\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"left\"` and `variant` is not \"temporary\". */\n    paperAnchorDockedLeft: {\n      borderRight: \"1px solid \".concat(theme.palette.divider)\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"top\"` and `variant` is not \"temporary\". */\n    paperAnchorDockedTop: {\n      borderBottom: \"1px solid \".concat(theme.palette.divider)\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"right\"` and `variant` is not \"temporary\". */\n    paperAnchorDockedRight: {\n      borderLeft: \"1px solid \".concat(theme.palette.divider)\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"bottom\"` and `variant` is not \"temporary\". */\n    paperAnchorDockedBottom: {\n      borderTop: \"1px solid \".concat(theme.palette.divider)\n    },\n\n    /* Styles applied to the `Modal` component. */\n    modal: {}\n  };\n};\nvar oppositeDirection = {\n  left: 'right',\n  right: 'left',\n  top: 'down',\n  bottom: 'up'\n};\nexport function isHorizontal(anchor) {\n  return ['left', 'right'].indexOf(anchor) !== -1;\n}\nexport function getAnchor(theme, anchor) {\n  return theme.direction === 'rtl' && isHorizontal(anchor) ? oppositeDirection[anchor] : anchor;\n}\nvar defaultTransitionDuration = {\n  enter: duration.enteringScreen,\n  exit: duration.leavingScreen\n};\n/**\n * The props of the [Modal](/api/modal/) component are available\n * when `variant=\"temporary\"` is set.\n */\n\nvar Drawer = React.forwardRef(function Drawer(props, ref) {\n  var _props$anchor = props.anchor,\n      anchorProp = _props$anchor === void 0 ? 'left' : _props$anchor,\n      BackdropProps = props.BackdropProps,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$elevation = props.elevation,\n      elevation = _props$elevation === void 0 ? 16 : _props$elevation,\n      _props$ModalProps = props.ModalProps;\n  _props$ModalProps = _props$ModalProps === void 0 ? {} : _props$ModalProps;\n\n  var BackdropPropsProp = _props$ModalProps.BackdropProps,\n      ModalProps = _objectWithoutProperties(_props$ModalProps, [\"BackdropProps\"]),\n      onClose = props.onClose,\n      _props$open = props.open,\n      open = _props$open === void 0 ? false : _props$open,\n      PaperProps = props.PaperProps,\n      SlideProps = props.SlideProps,\n      _props$transitionDura = props.transitionDuration,\n      transitionDuration = _props$transitionDura === void 0 ? defaultTransitionDuration : _props$transitionDura,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'temporary' : _props$variant,\n      other = _objectWithoutProperties(props, [\"anchor\", \"BackdropProps\", \"children\", \"classes\", \"className\", \"elevation\", \"ModalProps\", \"onClose\", \"open\", \"PaperProps\", \"SlideProps\", \"transitionDuration\", \"variant\"]);\n\n  var theme = useTheme(); // Let's assume that the Drawer will always be rendered on user space.\n  // We use this state is order to skip the appear transition during the\n  // initial mount of the component.\n\n  var mounted = React.useRef(false);\n  React.useEffect(function () {\n    mounted.current = true;\n  }, []);\n  var anchor = getAnchor(theme, anchorProp);\n  var drawer = React.createElement(Paper, _extends({\n    elevation: variant === 'temporary' ? elevation : 0,\n    square: true,\n    className: clsx(classes.paper, classes[\"paperAnchor\".concat(capitalize(anchor))], variant !== 'temporary' && classes[\"paperAnchorDocked\".concat(capitalize(anchor))])\n  }, PaperProps), children);\n\n  if (variant === 'permanent') {\n    return React.createElement(\"div\", _extends({\n      className: clsx(classes.root, classes.docked, className),\n      ref: ref\n    }, other), drawer);\n  }\n\n  var slidingDrawer = React.createElement(Slide, _extends({\n    in: open,\n    direction: oppositeDirection[anchor],\n    timeout: transitionDuration,\n    appear: mounted.current\n  }, SlideProps), drawer);\n\n  if (variant === 'persistent') {\n    return React.createElement(\"div\", _extends({\n      className: clsx(classes.root, classes.docked, className),\n      ref: ref\n    }, other), slidingDrawer);\n  } // variant === temporary\n\n\n  return React.createElement(Modal, _extends({\n    BackdropProps: _extends({}, BackdropProps, {}, BackdropPropsProp, {\n      transitionDuration: transitionDuration\n    }),\n    BackdropComponent: Backdrop,\n    className: clsx(classes.root, classes.modal, className),\n    open: open,\n    onClose: onClose,\n    ref: ref\n  }, other, ModalProps), slidingDrawer);\n});\nprocess.env.NODE_ENV !== \"production\" ? Drawer.propTypes = {\n  /**\n   * Side from which the drawer will appear.\n   */\n  anchor: PropTypes.oneOf(['left', 'top', 'right', 'bottom']),\n\n  /**\n   * @ignore\n   */\n  BackdropProps: PropTypes.object,\n\n  /**\n   * The contents of the drawer.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The elevation of the drawer.\n   */\n  elevation: PropTypes.number,\n\n  /**\n   * Props applied to the [`Modal`](/api/modal/) element.\n   */\n  ModalProps: PropTypes.object,\n\n  /**\n   * Callback fired when the component requests to be closed.\n   *\n   * @param {object} event The event source of the callback.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * If `true`, the drawer is open.\n   */\n  open: PropTypes.bool,\n\n  /**\n   * Props applied to the [`Paper`](/api/paper/) element.\n   */\n  PaperProps: PropTypes.object,\n\n  /**\n   * Props applied to the [`Slide`](/api/slide/) element.\n   */\n  SlideProps: PropTypes.object,\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   */\n  transitionDuration: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })]),\n\n  /**\n   * The variant to use.\n   */\n  variant: PropTypes.oneOf(['permanent', 'persistent', 'temporary'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDrawer',\n  flip: false\n})(Drawer);","import React from 'react'\nimport styled from 'styled-components'\nimport Box from '@material-ui/core/Box'\nimport SearchTab from 'components/organisms/SearchTab'\nimport Typography from '@material-ui/core/Typography'\nimport { withRouter } from 'react-router-dom'\nimport ContextStore from 'ContextStore'\nimport { DRAWER_CLOSE } from 'reducers/drawer'\nimport { useTranslation } from 'react-i18next'\nimport { getCurrentLanguage } from 'utils/helper'\n\nconst ExpandedRow = styled(Box)`\n  && {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    flex-grow: 1;\n  }\n`\n\nconst LeftMargin = styled(ExpandedRow)`\n  && {\n    min-height: 48px;\n    align-items: center;\n    padding: 0 16px 0 16px;\n    cursor: pointer;\n  }\n`\nconst SearchMenu = props => {\n  const { t } = useTranslation()\n  const {\n    drawer: { dispatch },\n  } = React.useContext(ContextStore)\n\n  function goToPage(route) {\n    props.history.push(route)\n    dispatch({ type: DRAWER_CLOSE })\n  }\n\n  const currentLanguage = getCurrentLanguage()\n\n  return (\n    <>\n      <LeftMargin>\n        <Typography\n          variant=\"h5\"\n          color=\"secondary\"\n          onClick={() => goToPage(`/${currentLanguage}/`)}\n        >\n          {/* 返回首頁 */}\n          {t('searchMenu.text1')}\n        </Typography>\n      </LeftMargin>\n\n      <LeftMargin>\n        <Typography\n          variant=\"h5\"\n          color=\"secondary\"\n          onClick={() => goToPage(`/${currentLanguage}/district/2019`)}\n        >\n          {/* 全港選區一覽 */}\n          {t('searchMenu.text2')}\n        </Typography>\n      </LeftMargin>\n\n      <LeftMargin>\n        <Typography\n          variant=\"h5\"\n          color=\"secondary\"\n          onClick={() => goToPage(`/${currentLanguage}/about-dc`)}\n        >\n          {/* 關於區議會選舉 */}\n          {t('searchMenu.text3')}\n        </Typography>\n      </LeftMargin>\n\n      <LeftMargin>\n        <Typography\n          variant=\"h5\"\n          color=\"secondary\"\n          onClick={() => goToPage(`/${currentLanguage}/followed-districts`)}\n        >\n          {/* 己關注選區 */}\n          {t('searchMenu.text4')}\n        </Typography>\n      </LeftMargin>\n\n      <LeftMargin>\n        <Typography\n          variant=\"h5\"\n          color=\"secondary\"\n          onClick={() => goToPage(`/${currentLanguage}/followed-candidates`)}\n        >\n          {/* 己關注候選人 */}\n          {t('searchMenu.text5')}\n        </Typography>\n      </LeftMargin>\n\n      <LeftMargin>\n        <Typography\n          variant=\"h5\"\n          color=\"secondary\"\n          onClick={() =>\n            (window.location.href =\n              'https://docs.google.com/forms/u/1/d/e/1FAIpQLSdXtbdry3w8hkmZuN0MJaj2CP2X3RUUnCTWLnOujsfx1pHDrw/viewform?usp=send_form')\n          }\n        >\n          {/* 反映意見 */}\n          {t('searchMenu.feedback')}\n        </Typography>\n      </LeftMargin>\n\n      <LeftMargin>\n        <Typography\n          variant=\"h5\"\n          color=\"primary\"\n          onClick={() => goToPage(`/${currentLanguage}/about-us`)}\n        >\n          {/* 我們是誰？ */}\n          {t('about.support_us')}\n        </Typography>\n      </LeftMargin>\n\n      <LeftMargin>\n        <SearchTab />\n      </LeftMargin>\n    </>\n  )\n}\n\nexport default withRouter(SearchMenu)\n","import React from 'react'\nimport styled from 'styled-components'\nimport Box from '@material-ui/core/Box'\nimport IconButton from '@material-ui/core/IconButton'\nimport CloseIcon from '@material-ui/icons/Close'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Drawer from '@material-ui/core/Drawer'\n\nimport { withRouter } from 'react-router-dom'\nimport ContextStore from 'ContextStore'\nimport { DRAWER_CLOSE } from 'reducers/drawer'\nimport SearchMenu from 'components/organisms/SearchMenu'\n\nconst Container = styled(Box)`\n  && {\n    width: 100%;\n  }\n`\n\nconst MenuContainer = styled(Box)`\n  && {\n    margin-top: 48px;\n    display: flex;\n    width: 100%;\n    flex-flow: column;\n  }\n`\n\nconst NavBarButton = styled(IconButton)`\n  && {\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    padding: 12px;\n  }\n`\n\nconst useStyles = makeStyles(theme => ({\n  drawerPaper: {\n    width: '500px',\n    maxWidth: '100%',\n  },\n}))\n\nfunction AppDrawer(props) {\n  const {\n    drawer: { dispatch, state },\n  } = React.useContext(ContextStore)\n  const classes = useStyles()\n\n  return (\n    <Drawer\n      classes={{\n        paper: classes.drawerPaper,\n      }}\n      anchor=\"left\"\n      open={state.open}\n      variant=\"persistent\"\n    >\n      <Container>\n        <NavBarButton\n          color=\"inherit\"\n          component=\"span\"\n          aria-label=\"Menu\"\n          onClick={() => {\n            dispatch({ type: DRAWER_CLOSE })\n          }}\n        >\n          <CloseIcon fontSize=\"small\" />\n        </NavBarButton>\n        <MenuContainer>\n          <SearchMenu />\n        </MenuContainer>\n      </Container>\n    </Drawer>\n  )\n}\n\nexport default withRouter(AppDrawer)\n"],"sourceRoot":""}